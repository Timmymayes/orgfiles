<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-08-01 Tue 18:53 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="author" content="Tyler" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
</head>
<body>
<div id="content" class="content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org7911124">1. Config Overview</a></li>
<li><a href="#orga39ef25">2. Initialization</a>
<ul>
<li><a href="#org24a24bd">2.1. UTF-8 buffer revert comand</a></li>
<li><a href="#org2f8ba38">2.2. Load additional Lisp directory</a></li>
<li><a href="#orgba68965">2.3. Setup Hyper &amp; Super on Windows</a></li>
<li><a href="#org0e50837">2.4. Undo Limit</a></li>
<li><a href="#org081cbf7">2.5. Package Setup</a></li>
<li><a href="#orga4f9610">2.6. Use Package Setup</a></li>
<li><a href="#org5b89b53">2.7. Keep Folders Clean</a></li>
</ul>
</li>
<li><a href="#orgc6c60d7">3. Mail with mu4e</a>
<ul>
<li><a href="#org39adc37">3.1. Config</a></li>
<li><a href="#orgeb0712a">3.2. Hotkeys</a></li>
</ul>
</li>
<li><a href="#org8e09cdb">4. UI Config</a>
<ul>
<li><a href="#org14e3aec">4.1. Basic UI Config</a></li>
<li><a href="#org2de8973">4.2. Themes</a></li>
<li><a href="#org49b7af9">4.3. Transparency</a></li>
</ul>
</li>
<li><a href="#orgaf1a4ef">5. Emacs Usability</a>
<ul>
<li><a href="#orgd707656">5.1. Helpful</a></li>
<li><a href="#orgce584ab">5.2. Whichkey</a></li>
<li><a href="#org6ab1778">5.3. Completion</a></li>
<li><a href="#orgef4cac7">5.4. Yas Mode</a></li>
<li><a href="#orgd06840f">5.5. Scale Text Hydra</a></li>
</ul>
</li>
<li><a href="#org7a92946">6. Window Control</a>
<ul>
<li><a href="#org4fbab30">6.1. Avy &amp; Ace</a></li>
</ul>
</li>
<li><a href="#org79d74b5">7. Org Config Setup</a>
<ul>
<li><a href="#orgc1dff29">7.1. Custom org-mode setup function</a>
<ul>
<li><a href="#org98ee699">7.1.1. Bindings</a></li>
<li><a href="#orgdc8099f">7.1.2. Org Agenda Setup</a></li>
<li><a href="#org97632b3">7.1.3. Custom Agenda Setup</a></li>
<li><a href="#orgc0a09f0">7.1.4. Helper functiqons</a></li>
<li><a href="#org340dd49">7.1.5. Font Configuration</a></li>
<li><a href="#org23f052e">7.1.6. bullets and dashes</a></li>
<li><a href="#org530e69f">7.1.7. Structure Templates</a></li>
<li><a href="#org829ebbd">7.1.8. Category Icons</a></li>
<li><a href="#org5e465b4">7.1.9. Language Setup</a></li>
<li><a href="#orgb76bf49">7.1.10. Auto-Tangle Config Files</a></li>
<li><a href="#org6406aaf">7.1.11. Visual Fill Mode</a></li>
<li><a href="#org87a00ad">7.1.12. Pomodoro</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org93355d6">8. Org-Roam Setup</a></li>
<li><a href="#orgaab681d">9. Org-Remark</a></li>
<li><a href="#org441960f">10. Org-Translcude</a></li>
<li><a href="#orgeaaa54e">11. Ledger-Mode</a></li>
<li><a href="#orgb779ecf">12. IDE Setup</a>
<ul>
<li><a href="#org4d5f8c5">12.1. Magit</a></li>
<li><a href="#org4b3d142">12.2. Git Gutter</a></li>
<li><a href="#org36017c5">12.3. Forge</a></li>
<li><a href="#org6b738d5">12.4. Git from Clipboard</a></li>
<li><a href="#org06bf218">12.5. Projectile</a></li>
<li><a href="#orgc70ee7f">12.6. Rainbow Deliminators</a></li>
<li><a href="#orge29c9ad">12.7. Electric Pair mode</a></li>
<li><a href="#org2088cbb">12.8. Line Numbers</a></li>
<li><a href="#org4725bc6">12.9. subword mode</a></li>
<li><a href="#orgba9b39b">12.10. Commenting</a></li>
<li><a href="#org80c60b7">12.11. Mini-map</a></li>
<li><a href="#org5e47cbf">12.12. Languages</a>
<ul>
<li><a href="#org61bd1a0">12.12.1. HTML &amp; CSS</a></li>
<li><a href="#org15f14ea">12.12.2. Language Server</a></li>
<li><a href="#org95467d3">12.12.3. TypeScript</a></li>
<li><a href="#org62ebda1">12.12.4. Javascript</a></li>
<li><a href="#orgaf16840">12.12.5. Haxe</a></li>
</ul>
</li>
<li><a href="#orgeec1bb5">12.13. Better Completions</a></li>
<li><a href="#org222e305">12.14. Debugging</a></li>
</ul>
</li>
<li><a href="#org0064bae">13. Macros, Functions and Keybinds</a>
<ul>
<li><a href="#org57345d4">13.1. Dabbrev</a></li>
<li><a href="#orga0aa9df">13.2. next-tag - "C-x t" - Move inside the next tag set in web-mode</a></li>
<li><a href="#org4e9a7ee">13.3. Window Movement</a>
<ul>
<li><a href="#org323bd75">13.3.1. General movement</a></li>
<li><a href="#org5e74f60">13.3.2. Homebrew Harpoon</a></li>
</ul>
</li>
<li><a href="#org8b674ac">13.4. Cursor Movement</a>
<ul>
<li><a href="#org816de9f">13.4.1. Keylist</a></li>
<li><a href="#orgf05bbe3">13.4.2. Function Definitions</a></li>
<li><a href="#org2fc53a4">13.4.3. Key binding</a></li>
</ul>
</li>
<li><a href="#orgc398531">13.5. Editing Text</a>
<ul>
<li><a href="#org37bf874">13.5.1. Function Definitions</a></li>
<li><a href="#org59a740d">13.5.2. Keybinds</a></li>
</ul>
</li>
<li><a href="#orgb285e39">13.6. Narrowing</a>
<ul>
<li><a href="#orgc4a30a1">13.6.1. Keymap</a></li>
<li><a href="#org14c6ebf">13.6.2. Bindings</a></li>
</ul>
</li>
<li><a href="#org4c6c5b7">13.7. Org Agenda</a>
<ul>
<li><a href="#org51378a4">13.7.1. my/org-agenda-lock</a></li>
</ul>
</li>
<li><a href="#org1c87e68">13.8. Org</a></li>
</ul>
</li>
<li><a href="#org637d20b">14. dired</a>
<ul>
<li><a href="#org5617a7d">14.1. Keymap</a></li>
<li><a href="#orgc126e08">14.2. config</a></li>
<li><a href="#org92a1710">14.3. SIngle Dired Buffer</a></li>
<li><a href="#org4efce8d">14.4. Icons</a></li>
<li><a href="#org07703e4">14.5. Hide Dot Files</a></li>
</ul>
</li>
<li><a href="#org072c0ad">15. Testing</a></li>
<li><a href="#orgd4e9923">16. Load Music</a></li>
<li><a href="#org34bfb14">17. Design Document Creation</a></li>
<li><a href="#org34bf932">18. Xah Lee Implementations</a>
<ul>
<li><a href="#org695d4d6">18.1. Hotkey Map</a></li>
<li><a href="#orga075df2">18.2. Function definitions</a></li>
<li><a href="#org55a4975">18.3. Bindings</a></li>
</ul>
</li>
<li><a href="#orga2b953b">19. Final Loading</a></li>
</ul>
</div>
</div>
<p>
t#+Title: Emacs US Config
</p>
<div id="outline-container-org7911124" class="outline-2">
<h2 id="org7911124"><span class="section-number-2">1.</span> Config Overview</h2>
<div class="outline-text-2" id="text-1">
<p>
This config is my personal config and is evolving over time. You can find the updated version here: <a href="https://github.com/Timmymayes/emacsone/blob/main/OrgFiles/emacsconf.org">Emacsone</a>.
</p>

<p>
This is my first run through configuring emacs so there is probably a lot of inefficiency in the layout and possibly some redundancy that needs cleaning up. That being said, this is a living document that will probably be evolving for some time before it gets a pure reboot. 
</p>
</div>
</div>

<div id="outline-container-orga39ef25" class="outline-2">
<h2 id="orga39ef25"><span class="section-number-2">2.</span> Initialization</h2>
<div class="outline-text-2" id="text-2">
<p>
Initial setup for the core of Emacs. Mostly low level system type elements and package usage. 
</p>
</div>
<div id="outline-container-org24a24bd" class="outline-3">
<h3 id="org24a24bd"><span class="section-number-3">2.1.</span> UTF-8 buffer revert comand</h3>
<div class="outline-text-3" id="text-2-1">
<p>
On the rare occasion utf-8 encoding is lost this is a note for myself on how to fix it.
</p>
<ul class="org-ul">
<li>(revert-buffer-with-coding-system (C-x ret r) then select utf-+BEGIN<sub>SRC</sub> emacs-lisp
(set-language-environment "UTF-8")</li>
</ul>
</div>
</div>
<div id="outline-container-org2f8ba38" class="outline-3">
<h3 id="org2f8ba38"><span class="section-number-3">2.2.</span> Load additional Lisp directory</h3>
<div class="outline-text-3" id="text-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path "~/.emacs.d/lisp")
;;tangle test
</pre>
</div>
</div>
</div>
<div id="outline-container-orgba68965" class="outline-3">
<h3 id="orgba68965"><span class="section-number-3">2.3.</span> Setup Hyper &amp; Super on Windows</h3>
<div class="outline-text-3" id="text-2-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; setup passthrough keys
(setq w32-pass-apps-to-system nil)
(setq w32-apps-modifier 'hyper)
(setq w32-pass-lwindow-to-system nil)
(setq w32-lwindow-modifier 'super)
</pre>
</div>
</div>
</div>
<div id="outline-container-org0e50837" class="outline-3">
<h3 id="org0e50837"><span class="section-number-3">2.4.</span> Undo Limit</h3>
<div class="outline-text-3" id="text-2-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq undo-limit 50)
(global-set-key (kbd "H-.") 'org-demote-subtree)
(global-set-key (kbd "H-,") 'org-promote-subtree)

</pre>
</div>
</div>
</div>

<div id="outline-container-org081cbf7" class="outline-3">
<h3 id="org081cbf7"><span class="section-number-3">2.5.</span> Package Setup</h3>
<div class="outline-text-3" id="text-2-5">
<p>
Require package and setup all package archives. Note changes to mode repositories has some adjusted code in there that may change. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'package)
(setq package-archives '(("melpa" . "https://melpa.org/packages/")
			 ;; old org link commented out for deprication 
			 ;;("org" . "https://orgmode.org/elpa/")
			 ("gnu" . "https://elpa.gnu.org/packages/")
			 ("nongnu" . "https://elpa.nongnu.org/nongnu/")
			 ("elpa" . "https://elpa.gnu.org/packages/")))

(package-initialize)
;; clean up org package issues
(assq-delete-all 'org package--builtins)
(assq-delete-all 'org package--builtin-versions)
(unless package-archive-contents
  (package-refresh-contents))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga4f9610" class="outline-3">
<h3 id="orga4f9610"><span class="section-number-3">2.6.</span> Use Package Setup</h3>
<div class="outline-text-3" id="text-2-6">
<p>
Install use-package and enable ':ensure t' globally. the ':ensusre' keyword causes the package(s) within use-package statements to be installed automatically if not already present on your system. To avoid having to add it to every statement we use use-package-always-ensure.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp" id="orgbc2d6cc">
;; Initialize use-package on non-Linux platforms

(unless (package-installed-p 'use-package)
  (package-install 'use-package))

(require 'use-package)
(setq use-package-always-ensure t)

</pre>
</div>

<pre class="example">
t
</pre>
</div>
</div>

<div id="outline-container-org5b89b53" class="outline-3">
<h3 id="org5b89b53"><span class="section-number-3">2.7.</span> Keep Folders Clean</h3>
<div class="outline-text-3" id="text-2-7">
<p>
Move all backup files into a single directory. Another option is to turn off backups completely but I don't mind having backups in case I screw something up. 
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq backup-directory-alist '(("." . "~/.emacs.d/tmp/backups/")))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc6c60d7" class="outline-2">
<h2 id="orgc6c60d7"><span class="section-number-2">3.</span> Mail with mu4e</h2>
<div class="outline-text-2" id="text-3">
<p>
Setup gmail to use mu4e. Currently this only works on my main linux install on the home pc. Largely becuase I don't need to check my current work's email in emacs. I'd rather keep it seperate. 
</p>
</div>
<div id="outline-container-org39adc37" class="outline-3">
<h3 id="org39adc37"><span class="section-number-3">3.1.</span> Config</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(if (eq system-type 'gnu/linux)
    (use-package mu4e
      :ensure nil
      ;; :load-path "/usr/share/emacs/site-lisp/mu4e/"
      :config
      ;; this is set to t to avoid mail syncing issues
      (setq mu4e-change-filenames-when-moving t)
      ;; refresh mail using isync every 10 minutes
      (setq mu4e-update-interval (* 10 60))
      (setq mu4e-get-mail-command "mbsync -a")
      (setq mu4e-maildir "~/Mail")

      (setq mu4e-drafts-folder "/'[Gmail]'.Drafts")
      (setq mu4e-sent-folder "/[Gmail].Sent Mail")
      (setq mu4e-refile-folder "/[Gmail].All Mail")
      (setq mu4e-trash-folder "/[Gmail].Trash")

      (setq mu4e-maildir-shortcuts
	    '(("/Inbox"                   . ?i)
	      ("/[Gmail].Sent Mail"       . ?s)
	      ("/[Gmail].Trash"           . ?t)
	      ("/[Gmail].Drafts"          . ?d)
	      ("/[Gmail].All Mail"        . ?a))))

  (setq
   user-mail-address "Timmymayes@gmail.com"
   user-full-name "Timothy Tyler Mayes"
   mu4e-compose-signature
   (concat
    "Best Regards,\n"
    "Tyler Mayes"))
  ;; Not working atm
  (require 'smtpmail)
  (setq message-send-mail-function 'smtpmail-send-it
	starttls-use-gnutls t
	smtpmail-starttls-credentials '(("smtp.gmail.com" 587 nil nil))
	smtpmail-auth-credentials
	'(("smtp.gmail.com" 587 "Timmymayes@gmail.com" nil))
	smtpmail-default-smtp-server "smtp.gmail.com"
	smtpmail-smtp-server "smtp.gmail.com"
	smtpmail-smtp-service 587))


</pre>
</div>

<pre class="example">
t
</pre>
</div>
</div>
<div id="outline-container-orgeb0712a" class="outline-3">
<h3 id="orgeb0712a"><span class="section-number-3">3.2.</span> Hotkeys</h3>
<div class="outline-text-3" id="text-3-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Key</td>
<td class="org-left">Command</td>
<td class="org-left">Description</td>
</tr>

<tr>
<td class="org-left">--</td>
<td class="org-left">-------------------</td>
<td class="org-left">----------------------------------------------</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>Movement</b></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">---</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">n</td>
<td class="org-left">next-line</td>
<td class="org-left">moves to next line</td>
</tr>

<tr>
<td class="org-left">p</td>
<td class="org-left">prev-line</td>
<td class="org-left">moves to prev line</td>
</tr>

<tr>
<td class="org-left">[</td>
<td class="org-left">mu4e-headers-prev-unread</td>
<td class="org-left">moves to prev unread message</td>
</tr>

<tr>
<td class="org-left">]</td>
<td class="org-left">mu4e-headers-next-unread</td>
<td class="org-left">moves to next unread message</td>
</tr>

<tr>
<td class="org-left">j</td>
<td class="org-left">mu4e-headers-jump-to-mail-dir</td>
<td class="org-left">Jump to another mail directory</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>Toggles</b></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-left">mu4e-headers-toggle-threading</td>
<td class="org-left">Toggles threaded message display</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-left">mu4e-headers-toggle-include-related</td>
<td class="org-left">Toggles related message display</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>Marking</b></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">d</td>
<td class="org-left">mu4e-headers-mark-for-trash</td>
<td class="org-left">Marks message for deletion</td>
</tr>

<tr>
<td class="org-left">m</td>
<td class="org-left">mu4e-headers-mark-for-move</td>
<td class="org-left">Marks message for move to folder</td>
</tr>

<tr>
<td class="org-left">+</td>
<td class="org-left">mu4e-headers-mark-for-flag</td>
<td class="org-left">Marks message for flagging</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">mu4e-headers-mark-for-unflag</td>
<td class="org-left">Marks smessage for unflagging</td>
</tr>

<tr>
<td class="org-left">%</td>
<td class="org-left">mu4e-headers-mark-for-pattern</td>
<td class="org-left">Marks based on a regex pattern</td>
</tr>

<tr>
<td class="org-left">u</td>
<td class="org-left">mu4e-headers-mark-for-unmark</td>
<td class="org-left">Removes mark for message</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-left">mu4e-mark-unmark-all</td>
<td class="org-left">Removes mark for all marks in view</td>
</tr>

<tr>
<td class="org-left">x</td>
<td class="org-left">mu4e-mark-execute-all</td>
<td class="org-left">Execute all marks in view</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>Searching</b></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">s</td>
<td class="org-left">mu4e-headers-search</td>
<td class="org-left">Search all e-mails</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-left">mu4e-headers-search-edit</td>
<td class="org-left">Edit current search (useful!!)</td>
</tr>

<tr>
<td class="org-left">b</td>
<td class="org-left">mu4e-headers-search-bookmark</td>
<td class="org-left">Select a bookmark to search with</td>
</tr>

<tr>
<td class="org-left">B</td>
<td class="org-left">mu4e-headers-search-bookmark-edit</td>
<td class="org-left">Edit bookmark before search</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-left">mu4e-rerun-search</td>
<td class="org-left">Rerun current search</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org8e09cdb" class="outline-2">
<h2 id="org8e09cdb"><span class="section-number-2">4.</span> UI Config</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org14e3aec" class="outline-3">
<h3 id="org14e3aec"><span class="section-number-3">4.1.</span> Basic UI Config</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Basic setup for cleaning up the ui.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(setq inhibit-startup-message t) ;inhibit start up
(scroll-bar-mode -1)   ;Disable visible scrollbar
(tool-bar-mode -1)     ;Disable toolbar
(tooltip-mode -1)      ;Disable tooltips11
(set-fringe-mode 10)   ;Give some breathing room
(menu-bar-mode -1)     ;Disable menu bar
(setq visible-bell t)  ;setup the visible bell


;; setup window splitting so its side by side usually. 
(setq split-width-threshold 80)

(set-face-attribute
 'default nil :font "Fira Code Retina" :height 140)  ; set font
(load-theme 'tango-dark)                             ; load theme
;;(desktop-save-mode 1)                                ; enable desktop saving

;; turn on hydras CONFIG-TODO: Create a Hydra Section
(use-package hydra)


</pre>
</div>
</div>
</div>

<div id="outline-container-org2de8973" class="outline-3">
<h3 id="org2de8973"><span class="section-number-3">4.2.</span> Themes</h3>
<div class="outline-text-3" id="text-4-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;;set doom themes
(use-package doom-themes
  :ensure t
  :config
  ;;(load-theme 'doom-gruvbox t))
  (load-theme 'doom-sourcerer t))

(use-package doom-modeline
  :ensure t
  :init (doom-modeline-mode 1)
  :config
  ;; consider adding a mu4e alert
  (setq doom-modeline-mu4e t)
  (if (eq system-type 'gnu/linux)
      (mu4e-alert-enable-mode-line-display))
  (setq doom-modeline-height 15))


(display-time-mode) ; display time
(column-number-mode); turn on column number mode



</pre>
</div>
</div>
</div>

<div id="outline-container-org49b7af9" class="outline-3">
<h3 id="org49b7af9"><span class="section-number-3">4.3.</span> Transparency</h3>
<div class="outline-text-3" id="text-4-3">
<p>
Transparnecy toggle for when you want to have a cool hacker mode.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">
(add-to-list 'default-frame-alist '(alpha . (90 . 60))) ;; define transparency amount

(defun toggle-transparency ()
  "Function to toggle transparency"
  (interactive)
  (let ((alpha (frame-parameter nil 'alpha)))
    (set-frame-parameter
     nil 'alpha
     (if (eql (cond ((numberp alpha) alpha)
		    ((numberp (cdr alpha)) (cdr alpha))
		    ;; Also handle undocumented (&lt;active&gt; &lt;inactive&gt;) form.
		    ((numberp (cadr alpha)) (cadr alpha)))
	      100)
	 '(90 . 60) '(100 . 100)))))
(global-set-key (kbd "C-c x t") 'toggle-transparency)
;; testing if this works to set transparency to full on startup
(toggle-transparency)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgaf1a4ef" class="outline-2">
<h2 id="orgaf1a4ef"><span class="section-number-2">5.</span> Emacs Usability</h2>
<div class="outline-text-2" id="text-5">
<p>
Packages that make emacs a little easiler to use. Finding out more about commands, completion and command descriptions in autocomplete buffer.
</p>
</div>
<div id="outline-container-orgd707656" class="outline-3">
<h3 id="orgd707656"><span class="section-number-3">5.1.</span> Helpful</h3>
<div class="outline-text-3" id="text-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package helpful
  :custom
  (counsel-describe-function-function #'helpful-callable)
  (counsel-describe-variable-function #'helpful-variable)
  :bind
  ([remap describe-function] . counsel-describe-function)
  ([remap describe-command] . helpful-command)
  ([remap describe-variable] . counsel-describe-variable)
  ([remap describe-key] . helpful-key))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgce584ab" class="outline-3">
<h3 id="orgce584ab"><span class="section-number-3">5.2.</span> Whichkey</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package which-key
  :init (which-key-mode)
  :diminish (which-key-mode)
  :config
  (setq which-key-idle-delay 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6ab1778" class="outline-3">
<h3 id="org6ab1778"><span class="section-number-3">5.3.</span> Completion</h3>
<div class="outline-text-3" id="text-5-3">
<p>
I've recently switched from counsel to vertico. 
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">
;;           (use-package counsel
;;             :bind (("M-x" . counsel-M-x)
;;                    ("C-x b" . counsel-ibuffer)


;; story)))

;;        (use-package ivy-richt
;;        :init
;;      (ivy-rich-mode 1))

(use-package vertico
  :ensure t
  :custom
  (vertico-cycle nil)
  (vertico-count 13)
  (vertico-resize t)
  :init
  (vertico-mode))

(use-package savehist
  :init
  (savehist-mode))

(use-package marginalia
  :after vertico
  :ensure t
  :custom
  (marginalia-max-relative-age 0)
  (marginalia-align 'center)
  (marginalia-annotators '(marginalia-annotators-heavy marginalia-annotators-light nil))
  :init
  (marginalia-mode))

;; turn on all the icons for completions
(use-package all-the-icons-completion
  :after(marginalia all-the-icons)
  :hook (marginalia-mode . all-the-icons-completion-marginalia-setup)
  :init
  (all-the-icons-completion-mode))
(use-package consult
  :ensure t)
(use-package consult-org-roam
  :after consult
  :ensure t)



</pre>
</div>
</div>
</div>

<div id="outline-container-orgef4cac7" class="outline-3">
<h3 id="orgef4cac7"><span class="section-number-3">5.4.</span> Yas Mode</h3>
<div class="outline-text-3" id="text-5-4">
<p>
Turn on Yas global mode
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(yas-global-mode 1)
(if (eq system-type 'windows-nt)
    (progn
      (setq yas-snippet-dirs '("c:/Users/Tyler/snippets" "~/.emacs.d/snippets"))
      (yas-reload-all)))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd06840f" class="outline-3">
<h3 id="orgd06840f"><span class="section-number-3">5.5.</span> Scale Text Hydra</h3>
<div class="outline-text-3" id="text-5-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defhydra hydra-zoom (global-map "&lt;f16&gt;")
  "Zoom"
  ("+" text-scale-increase "in")
  ("=" text-scale-decrease))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7a92946" class="outline-2">
<h2 id="org7a92946"><span class="section-number-2">6.</span> Window Control</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org4fbab30" class="outline-3">
<h3 id="org4fbab30"><span class="section-number-3">6.1.</span> Avy &amp; Ace</h3>
<div class="outline-text-3" id="text-6-1">
<p>
Great article on Avy - <a href="https://karthinks.com/software/avy-can-do-anything/">https://karthinks.com/software/avy-can-do-anything/</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ace-window)
(custom-set-faces
 '(aw-leading-char-face
   ((t (:inherit ace-jump-face-foreground :height 3.0)))))
;;

(use-package avy
  :config (progn
	    (setq avy-background nil)
	    (setq avy-all-windows 'all-frames)
	    (setq avy-styles-alist '((avy-goto-char-2 . at)
				     (avy-goto-char-timer . at)))))

;; function to jump to the end of a word
(defun my/avy-end()
  "run avy and jump to the end of the word. "
  (interactive)
  (progn
    (avy-goto-char-timer)
    (forward-word)))


(global-set-key (kbd "M-.") 'my/avy-end)
(global-set-key (kbd "M-,") 'avy-goto-char-timer)
(global-set-key (kbd "C-M-,") 'avy-copy-region)

(define-key isearch-mode-map (kbd "M-,") 'avy-isearch)


;; unbund c-] from abort-recursive-edit
(global-set-key (kbd "C-+") 'smartscan-symbol-go-backward)
(global-set-key (kbd "C-=") 'smartscan-symbol-go-forward)




</pre>
</div>

<pre class="example">
counsel-ibuffer
</pre>
</div>
</div>
</div>

<div id="outline-container-org79d74b5" class="outline-2">
<h2 id="org79d74b5"><span class="section-number-2">7.</span> Org Config Setup</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-orgc1dff29" class="outline-3">
<h3 id="orgc1dff29"><span class="section-number-3">7.1.</span> Custom org-mode setup function</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">			   ;;;;; Org mode setup ;;;;;

					;require tempo

(defun org-mode-setup()
  (org-indent-mode)
  (variable-pitch-mode 1) 
  (auto-fill-mode 0)
  (visual-line-mode 1))
</pre>
</div>


<div class="org-src-container">
<pre class="src src-emacs-lisp">
(use-package org
  :hook (org-mode . org-mode-setup)
  :bind (
	 :map org-mode-map
	 ("H-e" . org-narrow-to-element)
	 ("C-H-e" . org-narrow-to-subtree)
	 ("C-M-H-e" . org-narrow-to-block)
	 ("H-o" . counsel-outline)
	 ("M-s o" . my/org-occur)
	 ("C-t". org-toggle-checkbox))
  :config
  (setq org-agenda-files
	(quote ("~/Orgfiles"
		"~/Orgfiles/goals"
		"~/Orgfiles/review"
		)))

  (setq org-image-actual-width nil)
  (setq org-agenda-start-with-log-mode t)
  (setq org-log-done 'time)
  (setq org-log-into-drawer t)
  (setq org-extend-today-until 3
	org-use-effective-time t)
  (setq org-startup-with-inline-images t)
  (setq org-ellipsis " ▾"
	org-hide-emphasis-markers t)
  (setq org-agenda-window-setup 'current-window)
  (setq org-use-speed-commands t)      
  (setq org-apture-babel-evaluate t)
  (setq org-todo-keywords
	;; need to add in "Someday Maybe status"
	(quote ((sequence "TODO(t)" "NEXT(n)" "|" "DONE(d)")
		(sequence "WAITING(w@/!)" "HOLD(h@/!)" "|" "CANCELLED(c@/!)" "PHONE" "MEETING"))))

  (setq org-todo-keyword-faces
	(quote (("TODO" :foreground "red" :weight bold)
		("NEXT" :foreground "blue" :weight bold)
		("DONE" :foreground "forest green" :weight bold)
		("WAITING" :foreground "orange" :weight bold)
		("HOLD" :foreground "magenta" :weight bold)
		("CANCELLED" :foreground "forest green" :weight bold)
		("MEETING" :foreground "forest green" :weight bold)
		("PHONE" :foreground "forest green" :weight bold))))

  (setq org-todo-state-tags-triggers
	(quote (("CANCELLED" ("CANCELLED" . t))
		("WAITING" ("WAITING" . t))
		("HOLD" ("WAITING") ("HOLD" . t))
		(done ("WAITING") ("HOLD"))
		("TODO" ("WAITING") ("CANCELLED") ("HOLD"))
		("NEXT" ("WAITING") ("CANCELLED") ("HOLD"))
		("DONE" ("WAITING") ("CANCELLED") ("HOLD")))))

  ;; s-Left &amp; s-Right moves status
  (setq org-treat-S-cursor-todo-selection-as-state-change nil)

  (setq org-global-properties
	'(("Effort_All" . "0 0:10 0:15 0:45 0:30 1:00 2:00 3:00 4:00")))

					; org capture

  (setq org-capture-templates
	'(
	  ("t" "Task" entry (file "~/Orgfiles/refile.org")
	   "* TODO %?\n %U\n %a\n %i %^{CATEGORY|Task}p " :empty-lines 1)
	  ("m" "Meeting" entry (file "~/Orgfiles/refile.org")
	   "* MEETING with %? :MEETING:\n%U" :clock-in t :clock-resume t :jump-to-captured t)
	  ("p" "Phone call" entry (file "~/Orgfiles/refile.org")
	   "* PHONE %? :PHONE:\n%U" :clock-in t :clock-resume t :jump-to-captured t)
	  ("n" "note" entry (file "~/Orgfiles/refile.org")
	   "* %? :NOTE:\n%u\n%a\n %i" :empty-lines 1)
	  ("r" "reminder" entry (file "~/Orgfiles/refile.org")
	   "* %? :REMINDER:\n %^T \n %U\n %a\n%i" :empty-lines 1)
	  ("!" "recurring reminder" entry (file "~/Orgfiles/refile.org")
	   "* %? :REMINDER:\n %U\n &lt;%\\%(memq (calendar-day-of-week date) '(1 2 3 4 5))&gt;  \n%a\n%i" :empty-lines 1)
	  ("d" "Daily Metrics")
	  ("dm" "Morning Metrics" table-line (file+headline "~/Orgfiles/metrics.org" "Morning")
	   "| %^{Day} | %^{Weight} | %^{BP SYS} | %^{BP DIA}| %^{Sleep Time} | %^{AHI} | %^{Mood} | " :kill-buffer t)
	  ("de" "Evening Metrics" table-line (file+headline "~/Orgfiles/metrics.org" "Evening")
	   "| %^{Day} | %^{Output} | %^{On Schedule} | %^{Mood}| " :kill-buffer t)
	  ("di" "Daily Improvement" item (file+headline "~/Orgfiles/metrics.org" "Improvements List")
	   "- %?")
	  ("df" "Food Log" entry (file+datetree "~/Orgfiles/FoodLog.org")
	   "* %?")
	  ("g" "Goal" entry 
	   (file buffer-file-name)
	   "* _%^{Goal}_ [/] :noexport: %^{TYPE}p %^{OUTCOME}p %^{RETROSPECTIVE}p" :prepend t)
	  ("a" "Activity" entry
	   (file+function buffer-file-name set-activity-pos-from-goal)
	   "** Pending %^{Activity} %^{TYPE}p %^{OUTCOME}p %^{RETROSPECTIVE}p" :prepend t))))

;; setup org mode map

</pre>
</div>
</div>

<div id="outline-container-org98ee699" class="outline-4">
<h4 id="org98ee699"><span class="section-number-4">7.1.1.</span> Bindings</h4>
<div class="outline-text-4" id="text-7-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">					; hotkey bindings
(define-key global-map (kbd "C-c c")
  (lambda () (interactive) (org-capture)))

(define-key global-map (kbd "C-c t")
  (lambda () (interactive) (org-capture nil "t")))  

(define-key global-map (kbd "C-c m")
  (lambda () (interactive) (org-capture nil "m")))

(global-set-key (kbd "C-c a") 'org-agenda)
(global-set-key (kbd "&lt;f5&gt;") 'toggle-next-task-display)
;; promote and demote trees using hyper
(global-set-key (kbd "H-i") 'org-toggle-inline-images)  


					; refile targets

(setq org-refile-targets (quote ((nil :maxlevel . 9)
				 (org-agenda-files :maxlevel . 9))))

					; Use full outline paths for refile targets - we file directly with IDO
(setq org-refile-use-outline-path t)

					; Targets complete directly with IDO
(setq org-outline-path-complete-in-steps nil)

					; Allow refile to create parent tasks with confirmation
(setq org-refile-allow-creating-parent-nodes (quote confirm))

					; Use IDO for both buffer and file completion and ido-everywhere to t

				 ;;;; Refile settings
					; Exclude DONE state tasks from refile targets
(defun bh/verify-refile-target ()
  "Exclude todo keywords with a done state from refile targets"
  (not (member (nth 2 (org-heading-components)) org-done-keywords)))

(setq org-refile-target-verify-function 'bh/verify-refile-target)

(require 'org-habit)
(add-to-list 'org-modules 'org-habit)
(setq org-habit-graph-column 60)

(add-to-list  'org-src-lang-modes '("plantuml" . plantuml))

(global-set-key (kbd "C-c b") 'org-switchb)
(global-set-key (kbd "C-c l") 'org-store-link)
(global-set-key (kbd "C-c H-a") 'org-archive-subtree)

				       ;;;;; end org mode setup ;;;;;

				       ;;;;;;; Org Agenda Setup ;;;;;;;;;
;; Do not dim blocked tasks
(setq org-agenda-dim-blocked-tasks nil)
(add-hook 'org-agenda-finalize-hook #'hl-line-mode)

;; Compact the block agenda view
(setq org-agenda-compact-blocks t)
;; start norang agenda view

;; variable setup

;; disable value goals from being inherited
(setq org-tags-exclude-from-inheritance '("VALUE"))
;;reverse note order disabled
(setq org-reverse-note-order nil)
;; Leading 0 for military time
(setq org-agenda-time-leading-zero t)
;; sticky agendas
(setq org-agenda-sticky t)
;; Enforce Dependencies
(setq org-enforce-todo-dependencies t)
;; Start with log mode disabled
(setq org-agenda-start-with-log-mode nil)
;; setup 5 degrees of priority
(setq org-lowest-priority ?E)
;; number of seperators to 0
(setq org-cycle-seperator-lines 0)
;; Remove completed deadline tasks from the agenda view
(setq org-agenda-skip-deadline-if-done t)
;; Remove completed scheduled tasks from the agenda view
(setq org-agenda-skip-scheduled-if-done t)
;; Remove completed items from search results
(setq org-agenda-skip-timestamp-if-done t)
;; Setup Time Grid
(setq org-agenda-time-grid
      (quote ((daily today require-timed)
	      (500 600 700 800 900 1000 1100 1200 1300 1400 1500 1600 1700 1800 1900 2000 2100 2200 2300)
	      "......" "------------")))
;;search archives
(setq org-agenda-text-search-extra-files (quote (agenda-archives)))
;; honor ignore options
(setq org-agenda-tags-todo-honor-ignore-options t)

;; Remove empty LOGBOOK drawers on clock out
(defun bh/remove-empty-drawer-on-clock-out ()
  (interactive)
  (save-excursion
    (beginning-of-line 0)
    (org-remove-empty-drawer-at "LOGBOOK" (point))))

					;  (add-hook 'org-clock-out-hook 'bh/remove-empty-drawer-on-clock-out 'append)
(defun my/org-auto-exclude-function (tag)
  "Automatic task exclusion i the agenda with / RET"
  (and (cond
	((string= tag "REVIEW")
	 t)
	((string= tag "SEAS")
	 t)
	((string= tag "CONFIG")))
       (concat "-" tag)))

(setq org-agenda-auto-exclude-function 'my/org-auto-exclude-function)



</pre>
</div>
</div>
</div>
<div id="outline-container-orgdc8099f" class="outline-4">
<h4 id="orgdc8099f"><span class="section-number-4">7.1.2.</span> Org Agenda Setup</h4>
<div class="outline-text-4" id="text-7-1-2">
<pre class="example">
org-agenda-remove-restriction-lock
</pre>
</div>
</div>
<div id="outline-container-org97632b3" class="outline-4">
<h4 id="org97632b3"><span class="section-number-4">7.1.3.</span> Custom Agenda Setup</h4>
<div class="outline-text-4" id="text-7-1-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-agenda-custom-commands
      (quote (("N" "Notes" tags "NOTE"
	       ((org-agenda-overriding-header "Notes")
		(org-tags-match-list-sublevels t)))
	      ("h" "Habits" tags-todo "STYLE=\"habit\""
	       ((org-agenda-overriding-header "Habits")
		(org-agenda-sorting-strategy
		 '(todo-state-down effort-up category-keep))))
	      ("r" "Weekly Review Rollup" tags "Accomplishment|Disappointment"
	       ((org-agenda-overriding-header "Accomplishments &amp; Disappointments")
		(org-tags-match-list-sublevels 'indented)))
	      ( "d" "Daily Agenda" ((agenda ""
					    ((org-agenda-span 1))
					    ))
		)
	      ("p" "Personal Agenda"
	       ((agenda "" nil)
		(tags "REFILE"
		      ((org-agenda-overriding-header "Tasks to Refile")
		       (org-tags-match-list-sublevels nil)))
		(tags-todo "-CANCELLED/!"
			   ((org-agenda-overriding-header "Stuck Projects")
			    (org-agenda-skip-function 'bh/skip-non-stuck-projects)
			    (org-agenda-sorting-strategy
			     '(category-keep))))
		(tags-todo "-HOLD-CANCELLED/!"
			   ((org-agenda-overriding-header "Projects")
			    (org-agenda-skip-function 'bh/skip-non-projects)
			    (org-tags-match-list-sublevels 'indented)
			    (org-agenda-sorting-strategy
			     '(category-keep))))
		(tags-todo "-CANCELLED/!NEXT"
			   ((org-agenda-overriding-header (concat "Project Next Tasks"
								  (if bh/hide-scheduled-and-waiting-next-tasks
								      ""
								    " (including WAITING and SCHEDULED tasks)")))
			    (org-agenda-skip-function 'bh/skip-projects-and-habits-and-single-tasks)
			    (org-tags-match-list-sublevels t)
			    (org-agenda-todo-ignore-scheduled bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-deadlines bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-with-date bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-sorting-strategy
			     '(todo-state-down effort-up category-keep))))
		(tags-todo "-REFILE-CANCELLED-WAITING-HOLD/!"
			   ((org-agenda-overriding-header (concat "Project Subtasks"
								  (if bh/hide-scheduled-and-waiting-next-tasks
								      ""
								    " (including WAITING and SCHEDULED tasks)")))
			    (org-agenda-skip-function 'bh/skip-non-project-tasks)
			    (org-agenda-todo-ignore-scheduled bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-deadlines bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-with-date bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-sorting-strategy
			     '(category-keep))))
		(tags-todo "-REFILE-CANCELLED-WAITING-HOLD/!"
			   ((org-agenda-overriding-header (concat "Standalone Tasks"
								  (if bh/hide-scheduled-and-waiting-next-tasks
								      ""
								    " (including WAITING and SCHEDULED tasks)")))
			    (org-agenda-skip-function 'bh/skip-project-tasks)
			    (org-agenda-todo-ignore-scheduled bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-deadlines bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-with-date bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-sorting-strategy
			     '(category-keep))))
		(tags-todo "-CANCELLED+WAITING|HOLD/!"
			   ((org-agenda-overriding-header (concat "Waiting and Postponed Tasks"
								  (if bh/hide-scheduled-and-waiting-next-tasks
								      ""
								    " (including WAITING and SCHEDULED tasks)")))
			    (org-agenda-skip-function 'bh/skip-non-tasks)
			    (org-tags-match-list-sublevels nil)
			    (org-agenda-todo-ignore-scheduled bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-deadlines bh/hide-scheduled-and-waiting-next-tasks)))
		(tags "-REFILE/"
		      ((org-agenda-overriding-header "Tasks to Archive")
		       (org-agenda-skip-function 'bh/skip-non-archivable-tasks)
		       (org-tags-match-list-sublevels nil))))
	       ((org-agenda-tag-filter-preset '("-SEAS"))))                
	      ("w" "SEAS Agenda"
	       ((agenda "" nil)
		(tags "REFILE"
		      ((org-agenda-overriding-header "Tasks to Refile")
		       (org-tags-match-list-sublevels nil)))
		(tags-todo "-CANCELLED/!"
			   ((org-agenda-overriding-header "Stuck Projects")
			    (org-agenda-skip-function 'bh/skip-non-stuck-projects)
			    (org-agenda-sorting-strategy
			     '(category-keep))))
		(tags-todo "-HOLD-CANCELLED/!"
			   ((org-agenda-overriding-header "Projects")
			    (org-agenda-skip-function 'bh/skip-non-projects)
			    (org-tags-match-list-sublevels 'indented)
			    (org-agenda-sorting-strategy
			     '(category-keep))))
		(tags-todo "-CANCELLED/!NEXT"
			   ((org-agenda-overriding-header (concat "Project Next Tasks"
								  (if bh/hide-scheduled-and-waiting-next-tasks
								      ""
								    " (including WAITING and SCHEDULED tasks)")))
			    (org-agenda-skip-function 'bh/skip-projects-and-habits-and-single-tasks)
			    (org-tags-match-list-sublevels t)
			    (org-agenda-todo-ignore-scheduled bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-deadlines bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-with-date bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-sorting-strategy
			     '(todo-state-down effort-up category-keep))))
		(tags-todo "-REFILE-CANCELLED-WAITING-HOLD/!"
			   ((org-agenda-overriding-header (concat "Project Subtasks"
								  (if bh/hide-scheduled-and-waiting-next-tasks
								      ""
								    " (including WAITING and SCHEDULED tasks)")))
			    (org-agenda-skip-function 'bh/skip-non-project-tasks)
			    (org-agenda-todo-ignore-scheduled bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-deadlines bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-with-date bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-sorting-strategy
			     '(category-keep))))
		(tags-todo "-REFILE-CANCELLED-WAITING-HOLD/!"
			   ((org-agenda-overriding-header (concat "Standalone Tasks"
								  (if bh/hide-scheduled-and-waiting-next-tasks
								      ""
								    " (including WAITING and SCHEDULED tasks)")))
			    (org-agenda-skip-function 'bh/skip-project-tasks)
			    (org-agenda-todo-ignore-scheduled bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-deadlines bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-with-date bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-sorting-strategy
			     '(category-keep))))
		(tags-todo "-CANCELLED+WAITING|HOLD/!"
			   ((org-agenda-overriding-header (concat "Waiting and Postponed Tasks"
								  (if bh/hide-scheduled-and-waiting-next-tasks
								      ""
								    " (including WAITING and SCHEDULED tasks)")))
			    (org-agenda-skip-function 'bh/skip-non-tasks)
			    (org-tags-match-list-sublevels nil)
			    (org-agenda-todo-ignore-scheduled bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-deadlines bh/hide-scheduled-and-waiting-next-tasks)))
		(tags "-REFILE/"
		      ((org-agenda-overriding-header "Tasks to Archive")
		       (org-agenda-skip-function 'bh/skip-non-archivable-tasks)
		       (org-tags-match-list-sublevels nil))))
	       ((org-agenda-tag-filter-preset '("+SEAS"))))

	      (" " "All Agenda Items"
	       ((agenda "" nil)
		(tags "REFILE"
		      ((org-agenda-overriding-header "Tasks to Refile")
		       (org-tags-match-list-sublevels nil)))
		(tags-todo "-CANCELLED/!"
			   ((org-agenda-overriding-header "Stuck Projects")
			    (org-agenda-skip-function 'bh/skip-non-stuck-projects)
			    (org-agenda-sorting-strategy
			     '(category-keep))))
		(tags-todo "-HOLD-CANCELLED/!"
			   ((org-agenda-overriding-header "Projects")
			    (org-agenda-skip-function 'bh/skip-non-projects)
			    (org-tags-match-list-sublevels 'indented)
			    (org-agenda-sorting-strategy
			     '(category-keep))))
		(tags-todo "-CANCELLED/!NEXT"
			   ((org-agenda-overriding-header (concat "Project Next Tasks"
								  (if bh/hide-scheduled-and-waiting-next-tasks
								      ""
								    " (including WAITING and SCHEDULED tasks)")))
			    (org-agenda-skip-function 'bh/skip-projects-and-habits-and-single-tasks)
			    (org-tags-match-list-sublevels t)
			    (org-agenda-todo-ignore-scheduled bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-deadlines bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-with-date bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-sorting-strategy
			     '(todo-state-down effort-up category-keep))))
		(tags-todo "-REFILE-CANCELLED-WAITING-HOLD/!"
			   ((org-agenda-overriding-header (concat "Project Subtasks"
								  (if bh/hide-scheduled-and-waiting-next-tasks
								      ""
								    " (including WAITING and SCHEDULED tasks)")))
			    (org-agenda-skip-function 'bh/skip-non-project-tasks)
			    (org-agenda-todo-ignore-scheduled bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-deadlines bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-with-date bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-sorting-strategy
			     '(category-keep))))
		(tags-todo "-REFILE-CANCELLED-WAITING-HOLD/!"
			   ((org-agenda-overriding-header (concat "Standalone Tasks"
								  (if bh/hide-scheduled-and-waiting-next-tasks
								      ""
								    " (including WAITING and SCHEDULED tasks)")))
			    (org-agenda-skip-function 'bh/skip-project-tasks)
			    (org-agenda-todo-ignore-scheduled bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-deadlines bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-with-date bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-sorting-strategy
			     '(category-keep))))
		(tags-todo "-CANCELLED+WAITING|HOLD/!"
			   ((org-agenda-overriding-header (concat "Waiting and Postponed Tasks"
								  (if bh/hide-scheduled-and-waiting-next-tasks
								      ""
								    " (including WAITING and SCHEDULED tasks)")))
			    (org-agenda-skip-function 'bh/skip-non-tasks)
			    (org-tags-match-list-sublevels nil)
			    (org-agenda-todo-ignore-scheduled bh/hide-scheduled-and-waiting-next-tasks)
			    (org-agenda-todo-ignore-deadlines bh/hide-scheduled-and-waiting-next-tasks)))
		(tags "-REFILE/"
		      ((org-agenda-overriding-header "Tasks to Archive")
		       (org-agenda-skip-function 'bh/skip-non-archivable-tasks)
		       (org-tags-match-list-sublevels nil))))
	       nil))))  
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0a09f0" class="outline-4">
<h4 id="orgc0a09f0"><span class="section-number-4">7.1.4.</span> Helper functiqons</h4>
<div class="outline-text-4" id="text-7-1-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; start norang helpers

(defun bh/skip-non-archivable-tasks ()
  "Skip trees that are not available for archiving"
  (save-restriction
    (widen)
    ;; Consider only tasks with done todo headings as archivable candidates
    (let ((next-headline (save-excursion (or (outline-next-heading) (point-max))))
	  (subtree-end (save-excursion (org-end-of-subtree t))))
      (if (member (org-get-todo-state) org-todo-keywords-1)
	  (if (member (org-get-todo-state) org-done-keywords)
	      (let* ((daynr (string-to-number (format-time-string "%d" (current-time))))
		     (a-month-ago (* 60 60 24 (+ daynr 1)))
		     (last-month (format-time-string "%Y-%m-" (time-subtract (current-time) (seconds-to-time a-month-ago))))
		     (this-month (format-time-string "%Y-%m-" (current-time)))
		     (subtree-is-current (save-excursion
					   (forward-line 1)
					   (and (&lt; (point) subtree-end)
						(re-search-forward (concat last-month "\\|" this-month) subtree-end t)))))
		(if subtree-is-current
		    subtree-end ; Has a date in this month or last month, skip it
		  nil))  ; available to archive
	    (or subtree-end (point-max)))
	next-headline))))  



(defun bh/find-project-task ()
  "Move point to the parent (project) task if any"
  (save-restriction
    (widen)
    (let ((parent-task (save-excursion (org-back-to-heading 'invisible-ok) (point))))
      (while (org-up-heading-safe)
	(when (member (nth 2 (org-heading-components)) org-todo-keywords-1)
	  (setq parent-task (point))))
      (goto-char parent-task)
      parent-task)))


(defun bh/is-project-p ()
  "Any task with a todo keyword subtask"
  (save-restriction
    (widen)
    (let ((has-subtask)
	  (subtree-end (save-excursion (org-end-of-subtree t)))
	  (is-a-task (member (nth 2 (org-heading-components)) org-todo-keywords-1)))
      (save-excursion
	(forward-line 1)
	(while (and (not has-subtask)
		    (&lt; (point) subtree-end)
		    (re-search-forward "^\*+ " subtree-end t))
	  (when (member (org-get-todo-state) org-todo-keywords-1)
	    (setq has-subtask t))))
      (and is-a-task has-subtask))))

(defun bh/is-project-subtree-p ()
  "Any task with a todo keyword that is in a project subtree.
	   Callers of this function already widen the buffer view."
  (let ((task (save-excursion (org-back-to-heading 'invisible-ok)
			      (point))))
    (save-excursion
      (bh/find-project-task)
      (if (equal (point) task)
	  nil
	t))))

(defun bh/is-task-p ()
  "Any task with a todo keyword and no subtask"
  (save-restriction
    (widen)
    (let ((has-subtask)
	  (subtree-end (save-excursion (org-end-of-subtree t)))
	  (is-a-task (member (nth 2 (org-heading-components)) org-todo-keywords-1)))
      (save-excursion
	(forward-line 1)
	(while (and (not has-subtask)
		    (&lt; (point) subtree-end)
		    (re-search-forward "^\*+ " subtree-end t))
	  (when (member (org-get-todo-state) org-todo-keywords-1)
	    (setq has-subtask t))))
      (and is-a-task (not has-subtask)))))

(defun bh/is-subproject-p ()
  "Any task which is a subtask of another project"
  (let ((is-subproject)
	(is-a-task (member (nth 2 (org-heading-components)) org-todo-keywords-1)))
    (save-excursion
      (while (and (not is-subproject) (org-up-heading-safe))
	(when (member (nth 2 (org-heading-components)) org-todo-keywords-1)
	  (setq is-subproject t))))
    (and is-a-task is-subproject)))

(defun bh/list-sublevels-for-projects-indented ()
  "Set org-tags-match-list-sublevels so when restricted to a subtree we list all subtasks.
	     This is normally used  skipping functions where this variable is already local to the agenda."
  (if (marker-buffer org-agenda-restrict-begin)
      (setq org-tags-match-list-sublevels 'indented)
    (setq org-tags-match-list-sublevels nil))
  nil)

(defun bh/list-sublevels-for-projects ()
  "Set org-tags-match-list-sublevels so when restricted to a subtree we list all subtasks.
	     This is normally used by skipping functions where this variable is already local to the agenda."
  (if (marker-buffer org-agenda-restrict-begin)
      (setq org-tags-match-list-sublevels t)
    (setq org-tags-match-list-sublevels nil))
  nil)

(defvar bh/hide-scheduled-and-waiting-next-tasks t)

(defun toggle-next-task-display ()
  (interactive)
  (setq bh/hide-scheduled-and-waiting-next-tasks (not bh/hide-scheduled-and-waiting-next-tasks))
  (when  (equal major-mode 'org-agenda-mode)
    (org-agenda-redo))
  (message "%s WAITING and SCHEDULED NEXT Tasks" (if bh/hide-scheduled-and-waiting-next-tasks "Hide" "Show")))

(defun bh/skip-stuck-projects ()
  "Skip trees that are not stuck projects"
  (save-restriction
    (widen)
    (let ((next-headline (save-excursion (or (outline-next-heading) (point-max)))))
      (if (bh/is-project-p)
	  (let* ((subtree-end (save-excursion (org-end-of-subtree t)))
		 (has-next ))
	    (save-excursion
	      (forward-line 1)
	      (while (and (not has-next) (&lt; (point) subtree-end) (re-search-forward "^\\*+ NEXT " subtree-end t))
		(unless (member "WAITING" (org-get-tags-at))
		  (setq has-next t))))
	    (if has-next
		nil
	      next-headline)) ; a stuck project, has subtasks but no next task
	nil))))

(defun bh/skip-non-stuck-projects ()
  "Skip trees that are not stuck projects"
  ;; (bh/list-sublevels-for-projects-indented)
  (save-restriction
    (widen)
    (let ((next-headline (save-excursion (or (outline-next-heading) (point-max)))))
      (if (bh/is-project-p)
	  (let* ((subtree-end (save-excursion (org-end-of-subtree t)))
		 (has-next ))
	    (save-excursion
	      (forward-line 1)
	      (while (and (not has-next) (&lt; (point) subtree-end) (re-search-forward "^\\*+ NEXT " subtree-end t))
		(unless (member "WAITING" (org-get-tags-at))
		  (setq has-next t))))
	    (if has-next
		next-headline
	      nil)) ; a stuck project, has subtasks but no next task
	next-headline))))

(defun bh/skip-non-projects ()
  "Skip trees that are not projects"
  ;; (bh/list-sublevels-for-projects-indented)
  (if (save-excursion (bh/skip-non-stuck-projects))
      (save-restriction
	(widen)
	(let ((subtree-end (save-excursion (org-end-of-subtree t))))
	  (cond
	   ((bh/is-project-p)
	    nil)
	   ((and (bh/is-project-subtree-p) (not (bh/is-task-p)))
	    nil)
	   (t
	    subtree-end))))
    (save-excursion (org-end-of-subtree t))))

(defun bh/skip-non-tasks ()
  "Show non-project tasks.
	   Skip project and sub-project tasks, habits, and project related tasks."
  (save-restriction
    (widen)
    (let ((next-headline (save-excursion (or (outline-next-heading) (point-max)))))
      (cond
       ((bh/is-task-p)
	nil)
       (t
	next-headline)))))

(defun bh/skip-project-trees-and-habits ()
  "Skip trees that are projects"
  (save-restriction
    (widen)
    (let ((subtree-end (save-excursion (org-end-of-subtree t))))
      (cond
       ((bh/is-project-p)
	subtree-end)
       ((org-is-habit-p)
	subtree-end)
       (t
	nil)))))

(defun bh/skip-projects-and-habits-and-single-tasks ()
  "Skip trees that are projects, tasks that are habits, single non-project tasks"
  (save-restriction
    (widen)
    (let ((next-headline (save-excursion (or (outline-next-heading) (point-max)))))
      (cond
       ((org-is-habit-p)
	next-headline)
       ((and bh/hide-scheduled-and-waiting-next-tasks
	     (member "WAITING" (org-get-tags-at)))
	next-headline)
       ((bh/is-project-p)
	next-headline)
       ((and (bh/is-task-p) (not (bh/is-project-subtree-p)))
	next-headline)
       (t
	nil)))))

(defun bh/skip-project-tasks-maybe ()
  "Show tasks related to the current restriction.
	   When restricted to a project, skip project and sub project tasks, habits, NEXT tasks, and loose tasks.
	   When not restricted, skip project and sub-project tasks, habits, and project related tasks."
  (save-restriction
    (widen)
    (let* ((subtree-end (save-excursion (org-end-of-subtree t)))
	   (next-headline (save-excursion (or (outline-next-heading) (point-max))))
	   (limit-to-project (marker-buffer org-agenda-restrict-begin)))
      (cond
       ((bh/is-project-p)
	next-headline)
       ((org-is-habit-p)
	subtree-end)
       ((and (not limit-to-project)
	     (bh/is-project-subtree-p))
	subtree-end)
       ((and limit-to-project
	     (bh/is-project-subtree-p)
	     (member (org-get-todo-state) (list "NEXT")))
	subtree-end)
       (t
	nil)))))

(defun bh/skip-project-tasks ()
  "Show non-project tasks.
	   Skip project and sub-project tasks, habits, and project related tasks."
  (save-restriction
    (widen)
    (let* ((subtree-end (save-excursion (org-end-of-subtree t))))
      (cond
       ((bh/is-project-p)
	subtree-end)
       ((org-is-habit-p)
	subtree-end)
       ((bh/is-project-subtree-p)
	subtree-end)
       (t
	nil)))))

(defun bh/skip-non-project-tasks ()
  "Show project tasks.
	   Skip project and sub-project tasks, habits, and loose non-project tasks."
  (save-restriction
    (widen)
    (let* ((subtree-end (save-excursion (org-end-of-subtree t)))
	   (next-headline (save-excursion (or (outline-next-heading) (point-max)))))
      (cond
       ((bh/is-project-p)
	next-headline)
       ((org-is-habit-p)
	subtree-end)
       ((and (bh/is-project-subtree-p)
	     (member (org-get-todo-state) (list "NEXT")))
	subtree-end)
       ((not (bh/is-project-subtree-p))
	subtree-end)
       (t
	nil)))))

(defun bh/skip-projects-and-habits ()
  "Skip trees that are projects and tasks that are habits"
  (save-restriction
    (widen)
    (let ((subtree-end (save-excursion (org-end-of-subtree t))))
      (cond
       ((bh/is-project-p)
	subtree-end)
       ((org-is-habit-p)
	subtree-end)
       (t
	nil)))))

(defun bh/skip-non-subprojects ()
  "Skip trees that are not projects"
  (let ((next-headline (save-excursion (outline-next-heading))))
    (if (bh/is-subproject-p)
	nil
      next-headline)))

;; Agenda Sorting




;; End norang agenda setup



;; setup v-align mode for tables
(use-package valign)
(add-hook 'org-mode-hook #'valign-mode)

</pre>
</div>
</div>
</div>
<div id="outline-container-org340dd49" class="outline-4">
<h4 id="org340dd49"><span class="section-number-4">7.1.5.</span> Font Configuration</h4>
<div class="outline-text-4" id="text-7-1-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(dolist (face '((org-level-1 . 1.2)
		(org-level-2 . 1.1)
		(org-level-3 . 1.05)
		(org-level-4 . 1.0)
		(org-level-5 . 1.1)
		(org-level-6 . 1.1)
		(org-level-7 . 1.1)
		(org-level-8 . 1.1)))
  (set-face-attribute (car face) nil :font "Cantarell" :weight 'regular :height (cdr face)))
					; keep a few things fixed pitch as they should be for line ups

(set-face-attribute 'org-block nil :foreground nil :inherit 'fixed-pitch)
(set-face-attribute 'org-table nil  :inherit 'fixed-pitch)
(set-face-attribute 'org-formula nil  :inherit 'fixed-pitch)
(set-face-attribute 'org-code nil   :inherit '(shadow fixed-pitch))
					;  (set-face-attribute 'org-indent nil :inherit '(org-hide fixed-pitch))
(set-face-attribute 'org-verbatim nil :inherit '(shadow fixed-pitch))
(set-face-attribute 'org-special-keyword nil :inherit '(font-lock-comment-face fixed-pitch))
(set-face-attribute 'org-meta-line nil :inherit '(font-lock-comment-face fixed-pitch))
(set-face-attribute 'org-checkbox nil :inherit 'fixed-pitch)
;;font lock modes
(require 'font-lock)
(all-the-icons-completion-mode 1)

</pre>
</div>
</div>
</div>

<div id="outline-container-org23f052e" class="outline-4">
<h4 id="org23f052e"><span class="section-number-4">7.1.6.</span> bullets and dashes</h4>
<div class="outline-text-4" id="text-7-1-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-bullets
  :after org
  :hook (org-mode . org-bullets-mode)
  :custom
  (org-bullets-bullet-list '("◉" "○" "●" "○" "●" "○" "●")))


					;replace dashes with dots

(font-lock-add-keywords 'org-mode
			'(("^ *\\([-]\\) "
			   (0 (prog1 () (compose-region (match-beginning 1) (match-end 1) "•"))))))

(global-prettify-symbols-mode t)

(defun my/org-buffer-setup ()
  (push '("[ ]" . "☐" ) prettify-symbols-alist)
  (push '("[X]" . "☑" ) prettify-symbols-alist)
  (push '("[-]" . "❍" ) prettify-symbols-alist)
  )

(add-hook 'org-mode-hook #'my/org-buffer-setup)
;; Override some modes which derive from the above
(dolist (mode '(org-mode-hook))
  (add-hook mode (lambda () (display-line-numbers-mode 0))))


</pre>
</div>
</div>
</div>

<div id="outline-container-org530e69f" class="outline-4">
<h4 id="org530e69f"><span class="section-number-4">7.1.7.</span> Structure Templates</h4>
<div class="outline-text-4" id="text-7-1-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; This is needed as of Org 9.2
					;  (require 'org-tempo)
					;  (with-eval-after-load 'org-tempo

;; C-C C-, to use a structure template
(add-to-list 'org-structure-template-alist '("sh" . "src shell"))
(add-to-list 'org-structure-template-alist '("el" . "src emacs-lisp")) 
(add-to-list 'org-structure-template-alist '("py" . "src python"))
</pre>
</div>
</div>
</div>

<div id="outline-container-org829ebbd" class="outline-4">
<h4 id="org829ebbd"><span class="section-number-4">7.1.8.</span> Category Icons</h4>
<div class="outline-text-4" id="text-7-1-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(load "org-agenda-category-icons")
(org-agenda-category-icons!

 :material
 (repeat Habit)
 (group Meeting)
 (cake Birthday)
 (cake Anniversary)
 (event Event)
 (web Website)






 :faicon
 (cogs Config)
 (check-circle Task)
 (code Odin)
 (list-ul Project)
 (phone Phone)
 (car Vehicle)
 (plus-square Health)
 (pencil-square-o Note)
 (exclamation-circle Reminder)
 (flag Holiday)
 (archive Archive))


</pre>
</div>
</div>
</div>

<div id="outline-container-org5e465b4" class="outline-4">
<h4 id="org5e465b4"><span class="section-number-4">7.1.9.</span> Language Setup</h4>
<div class="outline-text-4" id="text-7-1-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(org-babel-do-load-languages
 'org-babel-load-languages
 '((emacs-lisp .t )
   (js .t)
   (dot . t)
   (plantuml . t)
   (python .t)))

</pre>
</div>
</div>
</div>


<div id="outline-container-orgb76bf49" class="outline-4">
<h4 id="orgb76bf49"><span class="section-number-4">7.1.10.</span> Auto-Tangle Config Files</h4>
<div class="outline-text-4" id="text-7-1-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;;auto tangle my emacs config file
(defun my/org-babel-tangle-config()
  (when (string-equal (buffer-file-name)
		      (expand-file-name "~/Orgfiles/configbackups/main-config.org")); might need to condituionally use this:
					;(expand-file-name "c:/Users/Tyler/emacsone/OrgFiles/emacsconf.org"))
    ;; dynamic scoping
    (let ((org-onfirm-babel-evaluate nil))
      (org-babel-tangle))))
(add-hook 'org-mode-hook (lambda () (add-hook 'after-save-hook #'my/org-babel-tangle-config)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6406aaf" class="outline-4">
<h4 id="org6406aaf"><span class="section-number-4">7.1.11.</span> Visual Fill Mode</h4>
<div class="outline-text-4" id="text-7-1-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun org-mode-visual-fill()
  (setq visual-fill-column-width 200 visual-fill-column-center-text t)
  (visual-fill-column-mode 1))


(use-package visual-fill-column
  :hook (org-mode . org-mode-visual-fill)) 

</pre>
</div>
</div>
</div>

<div id="outline-container-org87a00ad" class="outline-4">
<h4 id="org87a00ad"><span class="section-number-4">7.1.12.</span> Pomodoro</h4>
<div class="outline-text-4" id="text-7-1-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-clock-sound "~/Downloads/cheer.wav")
</pre>
</div>

<pre class="example">
org-agenda-remove-restriction-lock
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org93355d6" class="outline-2">
<h2 id="org93355d6"><span class="section-number-2">8.</span> Org-Roam Setup</h2>
<div class="outline-text-2" id="text-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">

(use-package org-roam
  :ensure t
  :init
  (setq org-roam-v2-act t)
  :custom
  (org-roam-directory "~/RoamNotes")
  (org-roam-completion-everywhere t)
  ( org-agenda-todo-list-sublevels nil)        

  :bind
  (("C-c n l" . org-roam-buffer-toggle)
   ("C-c n f" . org-roam-node-find)
   ("C-c n i" . org-roam-node-insert)
   ("C-c n i" . org-id-get-create)
   ("C-c n a" . org-roam-alias-add)
   ("C-c n t" . org-roam-tag-add)
   ("C-c n r" . org-roam-ref-add)
   ("C-c n s" . consult-org-roam-search)
   ("C-c n x a" . org-roam-alias-remove)
   ("C-c n x r" . org-roam-ref-remove)
   ("C-c n x t" . org-roam-tag-remove)

   ("C-c n I" . org-roam-node-insert-immediate)
   :map org-mode-map
   ("C-c n b" . org-mark-ring-goto)

   :map org-roam-dailies-map
   ("Y" . org-roam-dailies-capture-yesterday)
   ("T" . org-roam-dailies-capture-tomorrow))

  :bind-keymap
  ("C-c n d" . org-roam-dailies-map)
  :config
  (require 'org-roam-dailies)
  (org-roam-db-autosync-mode))

;;  Bind this to C-c n In
(defun org-roam-node-insert-immediate (arg &amp;rest args)
  (interactive "P")
  (let ((args (cons arg args))
	(org-roam-capture-templates (list (append (car org-roam-capture-templates)
						  '(:immediate-finish t)))))
    (apply #'org-roam-node-insert args)))  



(with-eval-after-load "org-roam" 
  (setq org-roam-capture-templates
	'(("d" "default" plain
	   "%?"
	   :if-new (file+head "%&lt;%Y%m%d%H%M%S&gt;-${slug}.org" "#+title: ${title}\n#+date: %U\n")
	   :unnarrowed t)
	  ;; programming language
	  ("l" "programming language" plain
	   "* Characteristics\n\n- Family: %?\n- Inspired by: \n\n* Reference:\n\n"
	   :if-new (file+head "%&lt;%Y%m%d%H%M%S&gt;-${slug}.org" "#+title: ${title}\n#+date: %U\n")
	   :unnarrowed t)
	  ;; programming insight - javascript
	  ("i" "Programming Insights" plain
	   "* Problem\n\n* Insight:\n\n* Solution:\n\n* Refactoring:\n\n* Fig1:\n\n#+BEGIN_SRC javascript\n\n\n#+END_SRC"
	   :if-new (file+head "%&lt;%Y%m%d%H%M%S&gt;-${slug}.org" "#+title: ${title}\n#+date: %U\n")
	   :unnarrowed t)
	  ("b" "book notes" plain
	   "\n* Source\n\nAuthor: %^{Author}\nTitle: ${title}\nYear: %^{Year}\n\n* Summary\n\n%?"
	   :if-new (file+head "%&lt;%Y%m%d%H%M%S&gt;-${slug}.org" "#+title: ${title}\n#+date: %U\nest")
	   :unnarrowed t))))


(setq org-roam-node-display-template (concat "${title:*} " (propertize "${tags:15}" 'face 'org-tag)))

(use-package org-roam-ui
  :bind ("s-r" . org-roam-ui-open)
  :config
  (setq org-roam-ui-sync-theme t
	org-roam-ui-follow t
	org-roam-ui-update-on-save t
	org-roam-ui-open-on-start t))


</pre>
</div>
</div>
</div>

<div id="outline-container-orgaab681d" class="outline-2">
<h2 id="orgaab681d"><span class="section-number-2">9.</span> Org-Remark</h2>
<div class="outline-text-2" id="text-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
(use-package org-remark)
(org-remark-global-tracking-mode 1)
(define-key global-map (kbd "C-c r m") #'org-remark-mark)

(with-eval-after-load 'org-remark
  (define-key org-remark-mode-map (kbd "C-c r o") #'org-remark-open) 
  (define-key org-remark-mode-map (kbd "C-c r b m") #'org-remark-mark-yellow) 
  (define-key org-remark-mode-map (kbd "C-c r b o") #'org-remark-mark-orange-bg) 
  (define-key org-remark-mode-map (kbd "C-c r b b") #'org-remark-mark-blue-bg) 
  (define-key org-remark-mode-map (kbd "C-c r b g") #'org-remark-mark-grey-bg) 
  (define-key org-remark-mode-map (kbd "C-c r b l b") #'org-remark-mark-light-blue-bg) 
  (define-key org-remark-mode-map (kbd "C-c r f o") #'org-remark-mark-orange-fg) 
  (define-key org-remark-mode-map (kbd "C-c r f c") #'org-remark-mark-cyan-fg) 
  (define-key org-remark-mode-map (kbd "C-c r f b") #'org-remark-mark-blue-fg) 
  (define-key org-remark-mode-map (kbd "C-c r f g") #'org-remark-mark-grey-fg) 
  (define-key org-remark-mode-map (kbd "C-c r f p") #'org-remark-mark-pink-fg)
  (define-key org-remark-mode-map (kbd "C-c r h o") #'org-remark-mark-orange-bg-bold)       
  (define-key org-remark-mode-map (kbd "C-c r d t") #'org-remark-mark-typo) 
  (define-key org-remark-mode-map (kbd "C-c r ]") #'org-remark-view-next) 
  (define-key org-remark-mode-map (kbd "C-c r [") #'org-remark-view-prev) 
  (define-key org-remark-mode-map (kbd "C-c r r") #'org-remark-remove))


(org-remark-create "typo"
		   '(:underline (:color "#8f0075" :style wave))
		   '(help-echo "Fix the typo"))
(org-remark-create "grey-bg"
		   '(doom-modeline-battery-normal))
(org-remark-create "orange-bg-bold"
		   '(isearch))
(org-remark-create "orange-bg"
		   '(:background "chocolate" :foreground "cornsilk"))
(org-remark-create "blue-fg"
		   '(gnus-group-mail-2))
(org-remark-create "orange-fg"
		   '(alert-high-face))
(org-remark-create "cyan-fg"
		   '(:foreground "turquoise"))
(org-remark-create "grey-fg"
		   '(file-name-shadow))
(org-remark-create "pink-fg"
		   '(gnus-group-news-4))
(org-remark-create "blue-bg"
		   '(smerge-refined-changed))
(org-remark-create "light-blue-bg"
		   '(avy-goto-char-timer-face))

</pre>
</div>
</div>
</div>

<div id="outline-container-org441960f" class="outline-2">
<h2 id="org441960f"><span class="section-number-2">10.</span> Org-Translcude</h2>
<div class="outline-text-2" id="text-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-transclusion)
(add-hook 'org-mode-hook #'org-transclusion-mode)
(fset 'my/org-transclusion-bake
 (kmacro-lambda-form [?\C-  ?\C-c ?\C-n ?\M-w ?\C-p ?\C-y ?\C-c ?\C-p ?\C-c ?\C-p ?\M-x ?o ?r ?g ?- ?t ?r ?a ?n ?s ?c ?l ?u ?s ?i ?o ?n ?- ?d ?e ?a tab return ?\C-p ?\C-k] 0 "%d"))



</pre>
</div>
</div>
</div>

<div id="outline-container-orgeaaa54e" class="outline-2">
<h2 id="orgeaaa54e"><span class="section-number-2">11.</span> Ledger-Mode</h2>
<div class="outline-text-2" id="text-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ledger-mode
  :ensure t
  :init
  (setq ledger-clear-whole-transactions 1)
  :bind (
	 :map ledger-mode-map
	 ("C-M-n" . ledger-navigate-next-uncleared)
	 ("C-M-p" . ledger-navigate-previous-uncleared))
  :mode "\\.dat\\'")

(setq ledger-reports
      '(("bal"            "%(binary) -f %(ledger-file) bal")
	("bal this month" "%(binary) -f %(ledger-file) bal -p %(month) -S amount")
	("bal this year"  "%(binary) -f %(ledger-file) bal -p 'this year'")
	("net worth"      "%(binary) -f %(ledger-file) bal Assets Liabilities")
	("account"        "%(binary) -f %(ledger-file) reg %(account)")))



</pre>
</div>
</div>
</div>

<div id="outline-container-orgb779ecf" class="outline-2">
<h2 id="orgb779ecf"><span class="section-number-2">12.</span> IDE Setup</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-org4d5f8c5" class="outline-3">
<h3 id="org4d5f8c5"><span class="section-number-3">12.1.</span> Magit</h3>
<div class="outline-text-3" id="text-12-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package magit
  :commands (magit-status magit-get-current-branch)
  :bind (("s-m m" . magit-status)
	 ("s-m j" . magit-dispatch)
	 ("s-m k" . magit-file-dispatch)
	 ("s-m l" . magit-log-buffer-file)
	 ("s-m b" . magit-blame))
  :custom
  (magit-display-buffer-function #'magit-display-buffer-same-window-except-diff-v1))
(setq magit-clone-default-directory "~/Projects/")

;; Bindings



</pre>
</div>
</div>
</div>

<div id="outline-container-org4b3d142" class="outline-3">
<h3 id="org4b3d142"><span class="section-number-3">12.2.</span> Git Gutter</h3>
<div class="outline-text-3" id="text-12-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package git-gutter
  :hook (prog-mode . git-gutter-mode)
  :config
  (setq git-gutter:update-interval 0.02))
(use-package git-gutter-fringe
  :config
  (define-fringe-bitmap 'git-gutter-fr:added [224] nil nil '(center repeated))
  (define-fringe-bitmap 'git-gutter-fr:modified [224] nil nil '(center repeated))
  (define-fringe-bitmap 'git-gutter-fr:deleted [128 192 224 240] nil nil 'bottom))

</pre>
</div>
</div>
</div>

<div id="outline-container-org36017c5" class="outline-3">
<h3 id="org36017c5"><span class="section-number-3">12.3.</span> Forge</h3>
<div class="outline-text-3" id="text-12-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package forge)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6b738d5" class="outline-3">
<h3 id="org6b738d5"><span class="section-number-3">12.4.</span> Git from Clipboard</h3>
<div class="outline-text-3" id="text-12-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
(defun ar/git-clone-clipboard-url ()
  "Clone git URL in clipboard asynchronously and open in dired when finished."
  (interactive)
  (cl-assert (string-match-p "^\\(http\\|https\\|ssh\\)://" (current-kill 0)) nil "No URL in clipboard")
  (let* ((url (current-kill 0))
	 (download-dir (expand-file-name "~/Downloads/"))
	 (project-dir (concat (file-name-as-directory download-dir)
			      (file-name-base url)))
	 (default-directory download-dir)
	 (command (format "git clone %s" url))
	 (buffer (generate-new-buffer (format "*%s*" command)))
	 (proc))
    (when (file-exists-p project-dir)
      (if (y-or-n-p (format "%s exists. delete?" (file-name-base url)))
	  (delete-directory project-dir t)
	(user-error "Bailed")))
    (switch-to-buffer buffer)
    (setq proc (start-process-shell-command (nth 0 (split-string command)) buffer command))
    (with-current-buffer buffer
      (setq default-directory download-dir)
      (shell-command-save-pos-or-erase)
      (require 'shell)
      (shell-mode)
      (view-mode +1))
    (set-process-sentinel proc (lambda (process state)
				 (let ((output (with-current-buffer (process-buffer process)
						 (buffer-string))))
				   (kill-buffer (process-buffer process))
				   (if (= (process-exit-status process) 0)
				       (progn
					 (message "finished: %s" command)
					 (dired project-dir))
				     (user-error (format "%s\n%s" command output))))))
    (set-process-filter proc #'comintoutput-filter)))
</pre>
</div>
</div>
</div>



<div id="outline-container-org06bf218" class="outline-3">
<h3 id="org06bf218"><span class="section-number-3">12.5.</span> Projectile</h3>
<div class="outline-text-3" id="text-12-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package projectile
  :diminish projectile-mode
  :config (projectile-mode)
  :custom ((projectile-completion-system 'ivy))
  :bind-keymap
  ("C-c p" . projectile-command-map)
  :init
  (when (file-directory-p "~/Projects/Code")
    (setq projectile-project-search-path '("~/Projects/Code")))
  (setq projectile-switch-project-action #'projectile-dired))

(use-package counsel-projectile
  :config (counsel-projectile-mode))

(global-set-key (kbd "H-x H-s") 'projectile-save-project-buffers)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc70ee7f" class="outline-3">
<h3 id="orgc70ee7f"><span class="section-number-3">12.6.</span> Rainbow Deliminators</h3>
<div class="outline-text-3" id="text-12-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package rainbow-delimiters
  :hook (prog-mode . rainbow-delimiters-mode))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge29c9ad" class="outline-3">
<h3 id="orge29c9ad"><span class="section-number-3">12.7.</span> Electric Pair mode</h3>
<div class="outline-text-3" id="text-12-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'prog-mode-hook 'electric-pair-mode)
(add-hook 'prog-mode-hook 'electric-indent-mode)
(global-set-key (kbd "C-c s (") 'electric-pair-mode)


</pre>
</div>
</div>
</div>
<div id="outline-container-org2088cbb" class="outline-3">
<h3 id="org2088cbb"><span class="section-number-3">12.8.</span> Line Numbers</h3>
<div class="outline-text-3" id="text-12-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq display-line-numbers-type 'relative)

;; (defun my-display-numbers-hook ()
;;   (display-line-numbers-mode t)
;; (add-hook 'prog-mode-hook 'my-display-numbers-hook)
;; (add-hook 'text-mode-hook 'my-display-numbers-hook)
;; (dolist (mode '(org-mode-hook))
;;   (add-hook mode (lambda () (display-line-numbers-mode 0)))))

(dolist (mode '(text-mode-hook
		prog-mode-hook
		conf-mode-hook))
  (add-hook mode (lambda () (display-line-numbers-mode 1))))

;; Override some modes which derive from the above
(dolist (mode '(org-mode-hook))
  (add-hook mode (lambda () (display-line-numbers-mode 0))))


</pre>
</div>
</div>
</div>
<div id="outline-container-org4725bc6" class="outline-3">
<h3 id="org4725bc6"><span class="section-number-3">12.9.</span> subword mode</h3>
<div class="outline-text-3" id="text-12-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;;removed for symbol searching
;; (add-hook 'prog-mode-hook 'subword-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgba9b39b" class="outline-3">
<h3 id="orgba9b39b"><span class="section-number-3">12.10.</span> Commenting</h3>
<div class="outline-text-3" id="text-12-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package evil-nerd-commenter
  :bind ("M-;" . evilnc-comment-or-uncomment-lines))
</pre>
</div>
</div>
</div>

<div id="outline-container-org80c60b7" class="outline-3">
<h3 id="org80c60b7"><span class="section-number-3">12.11.</span> Mini-map</h3>
<div class="outline-text-3" id="text-12-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package minimap)

(setq minimap-window-location 1)

(global-set-key (kbd "C-c s m")  'minimap-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5e47cbf" class="outline-3">
<h3 id="org5e47cbf"><span class="section-number-3">12.12.</span> Languages</h3>
<div class="outline-text-3" id="text-12-12">
</div>
<div id="outline-container-org61bd1a0" class="outline-4">
<h4 id="org61bd1a0"><span class="section-number-4">12.12.1.</span> HTML &amp; CSS</h4>
<div class="outline-text-4" id="text-12-12-1">
<p>
Some possible html modes to look into:
<a href="http://xahlee.info/emacs/emacs/emacs_html.html">http://xahlee.info/emacs/emacs/emacs_html.html</a>
<a href="http://xahlee.info/emacs/emacs/xah-css-mode.html">http://xahlee.info/emacs/emacs/xah-css-mode.html</a>
</p>
</div>
<ol class="org-ol">
<li><a id="org032ae0f"></a>web-mode<br />
<div class="outline-text-5" id="text-12-12-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package web-mode)
(setq web-mode-enable-current-column-highlight t)
(setq web-mode-enable-current-element-highlight t)
					; hook into web mode for file types
(add-to-list 'auto-mode-alist '("\\.phtml\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.tpl\\.php\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.[agj]sp\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.as[cp]x\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.erb\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.mustache\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.djhtml\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.html?\\'" . web-mode))
;;using rsjx mode
;;(add-to-list 'auto-mode-alist '("\\.js\\'" . web-mode))
					;(add-to-list 'auto-mode-alist '("\\.css?\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.xml\\'" . web-mode))
;; using rsjx mode
;;(add-to-list 'auto-mode-alist '("\\.jsx\\'" . web-mode))
(add-to-list 'auto-mode-alist '("\\.ts\\'" . web-mode))



					; set company completions vocab to css and html

(setq web-mode-enable-engine-detection t)

</pre>
</div>
</div>
</li>
<li><a id="org33a53ef"></a>emmet-mode<br />
<div class="outline-text-5" id="text-12-12-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package emmet-mode
  :bind (
	 :map emmet-mode-keymap
	 ("H-n" . emmet-next-edit-point)
	 ("H-p" . emmet-prev-edit-point)))
					; use emmet in all web-mode docs
(add-hook 'web-mode-hook 'emmet-mode)
(add-hook 'css-mode-hook 'emmet-mode)

					; enable mode switching between css and java
(add-hook 'web-mode-before-auto-complete-hooks
	  '(lambda ()
	     (let ((web-mode-cur-language
		    (web-mode-language-at-pos)))
	       (if (string= web-mode-cur-language "php")
		   (yas-activate-extra-mode 'php-mode)
		 (yas-deactivate-extra-mode 'php-mode))
	       (if (string= web-mode-cur-language "css")
		   (setq emmet-use-css-transform t)
		 (setq emmet-use-css-transform nil)))))




</pre>
</div>
</div>
</li>
<li><a id="org7e12ede"></a>css-mode<br />
<div class="outline-text-5" id="text-12-12-1-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org15f14ea" class="outline-4">
<h4 id="org15f14ea"><span class="section-number-4">12.12.2.</span> Language Server</h4>
<div class="outline-text-4" id="text-12-12-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">					; breadcrumb setup

(defun lsp-mode-setup ()
  (setq lsp-headerline-breadcrumb-segments '(path-up-to-project file symbols))
  (lsp-headerline-breadcrumb-mode))

(use-package lsp-mode
  :commands (lsp lsp-deffered)
  :hook (lsp-mode . lsp-mode-setup)
  :init
  (setq lsp-keymap-prefix "C-c l")
  :config
  (lsp-enable-which-key-integration t))
					; turn on lsp ui

(use-package lsp-ui
  :after lsp
  :hook (lsp-mode . lsp-ui-mode)
  :config
  (setq lsp-ui-doc-position 'bottom))

(use-package treemacs
  :config
  (setq treemacs-select-when-already-in-treemacs 'close))


(use-package lsp-treemacs
  :after lsp)
(setq treemacs-select-when-already-in-treemacs 'close)




</pre>
</div>
</div>
</div>
<div id="outline-container-org95467d3" class="outline-4">
<h4 id="org95467d3"><span class="section-number-4">12.12.3.</span> TypeScript</h4>
<div class="outline-text-4" id="text-12-12-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package typescript-mode
  :mode "\\.ts\\'"
  :hook (typescript-mode . lsp-deferred)
  :config
  (setq typescript-indent-level 2))
</pre>
</div>
</div>
</div>
<div id="outline-container-org62ebda1" class="outline-4">
<h4 id="org62ebda1"><span class="section-number-4">12.12.4.</span> Javascript</h4>
<div class="outline-text-4" id="text-12-12-4">
<p>
Following setup from here: <a href="https://www.chadstovern.com/javascript-in-emacs-revisited/">https://www.chadstovern.com/javascript-in-emacs-revisited/</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package rjsx-mode
  :mode ("\\.js\\'"
	 "\\.jsx\\'")
  :config
  (setq js2-mode-show-parse-errors nil
	js2-mode-show-strict-warnings nil
	js2-basic-offset 2
	js-indent-level 2)
  ;; (setq-local flycheck-disabled-checkers (cl-union flycheck-disabled-checkers
  ;;                                                  '(javascript-jshint))) ; jshint doesn't work for JSX
  (show-paren-mode 1)
  (electric-pair-mode 1))

(use-package add-node-modules-path
  :defer t
  :hook (((js2-mode rjsx-mode) . add-node-modules-path)))

;; prettify

(use-package prettier-js
  :defer t
  :diminish prettier-js-mode
  :hook (((js2-mode rjsx-mode) . prettier-js-mode)))

;; setup lsp mode
(use-package lsp-mode
  :defer t
  :diminish lsp-mode
  :hook (((js2-mode rjsx-mode) . lsp))
  :commands lsp
  :config
  (setq lsp-auto-configure t
	lsp-auto-guess-root t
	;; don't set flymake or lsp-ui so the default linter doesn't get trampled
	lsp-diagnostic-package :none))



(use-package lsp-ui
  :defer t
  :config
  (setq lsp-ui-sideline-enable t
	;; disable flycheck setup so default linter isn't trampled
	lsp-ui-flycheck-enable nil
	lsp-ui-sideline-show-symbol nil
	lsp-ui-sideline-show-hover nil
	lsp-ui-sideline-show-code-actions nil
	lsp-ui-peek-enable nil
	lsp-ui-imenu-enable nil
	lsp-ui-doc-enable nil))


(defun my-js-comint-keys ()
  "My Keys for sending to the js-comint repl"
  (interactive)
  (local-set-key (kbd "C-x C-e") 'js-send-last-sexp)
  (local-set-key (kbd"C-c b") 'js-send-buffer)
  ;;(local-set-key (kbd"C-c r") 'js-send-region)
  (local-set-key (kbd"C-c C-r") 'js-send-region-and-go))




(require 'js-comint)
(setq inferior-js-program-command "node --interactive")
(setenv "NODE_NO_READLINE" "1")
(add-hook 'rjsx-mode-hook 'my-js-comint-keys)
(add-hook 'rjsx-mode-hook 'emmet-mode)


(with-eval-after-load 'flycheck
  (flycheck-add-next-checker 'javascript-eslint '(t . javascript-jscs)))





</pre>
</div>
</div>
</div>
<div id="outline-container-orgaf16840" class="outline-4">
<h4 id="orgaf16840"><span class="section-number-4">12.12.5.</span> Haxe</h4>
<div class="outline-text-4" id="text-12-12-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; This isn't really a package, it just provides a `haxe-mode' to work with
(use-package haxe-mode
  :mode ("\\.hx\\'" . haxe-mode)
  :no-require t
  :init
  (require 'js)
  (define-derived-mode haxe-mode js-mode "Haxe"
    "Haxe syntax highlighting mode. This is simply using js-mode for now."))

(use-package battle-haxe
  :hook (haxe-mode . battle-haxe-mode)
  :bind (("S-&lt;f4&gt;" . #'pop-global-mark) ;To get back after visiting a definition
	 :map battle-haxe-mode-map
	 ("&lt;f5&gt;" . #'battle-haxe-goto-definition)
	 ("&lt;f12&gt;" . #'battle-haxe-helm-find-references))
  :custom
  (battle-haxe-yasnippet-completion-expansion t "Keep this if you want yasnippet to expand completions when it's available.")
  (battle-haxe-immediate-completion nil "Toggle this if you want to immediately trigger completion when typing '.' and other relevant prefixes."))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgeec1bb5" class="outline-3">
<h3 id="orgeec1bb5"><span class="section-number-3">12.13.</span> Better Completions</h3>
<div class="outline-text-3" id="text-12-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package company
  :after lsp-mode
  :hook ((lsp-mode web-mode) . company-mode)
  :bind (:map company-active-map
	      ( "&lt;tab&gt;" . company-complete-selection))
  (:map lsp-mode-map
	("&lt;tab&gt;" . company-indent-or-complete-common)) 
  )
(setq company-minimum-prefix-length 2)



(use-package company-web
  :after company)


(defun my-web-mode-hook ()
  (set (make-local-variable 'company-backends) '(company-css company-web-html company-yasnippet company-files)))  

(add-hook 'web-mode-hook 'my-web-mode-hook)

;; Company mode for yas
(global-set-key (kbd "&lt;C-tab&gt;") 'company-yasnippet)
					;  (use-ackage company-box
					;   :hook (company-mode . company-box-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org222e305" class="outline-3">
<h3 id="org222e305"><span class="section-number-3">12.14.</span> Debugging</h3>
<div class="outline-text-3" id="text-12-14">
<p>
Dap mode here: <a href="https://www.youtube.com/watch?v=0bilcQVSlbM">https://www.youtube.com/watch?v=0bilcQVSlbM</a>
</p>
</div>
</div>
</div>

<div id="outline-container-org0064bae" class="outline-2">
<h2 id="org0064bae"><span class="section-number-2">13.</span> Macros, Functions and Keybinds</h2>
<div class="outline-text-2" id="text-13">
<p>
A section for my personal macors functions and keybinds
</p>
</div>

<div id="outline-container-org57345d4" class="outline-3">
<h3 id="org57345d4"><span class="section-number-3">13.1.</span> Dabbrev</h3>
<div class="outline-text-3" id="text-13-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd "M-=") 'dabbrev-expand)
(global-set-key (kbd "C-M-=") 'dabbrev-complete)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga0aa9df" class="outline-3">
<h3 id="orga0aa9df"><span class="section-number-3">13.2.</span> next-tag - "C-x t" - Move inside the next tag set in web-mode</h3>
<div class="outline-text-3" id="text-13-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun next-tag()
  (interactive)
  (web-mode-element-next)
  (web-mode-tag-end))



(global-set-key  (kbd "C-x t") 'next-tag)

;; timer controls
(global-set-key (kbd "H-t t") 'org-timer-set-timer)
(global-set-key (kbd "H-t s") 'org-timer-start)
(global-set-key (kbd "H-t x") 'org-timer-stop)
(global-set-key (kbd "H-t z") 'org-timer-pause-or-continue)


;; set ctrl z to undo
(global-set-key (kbd "C-z") 'undo)

</pre>
</div>

<pre class="example">
next-tag
</pre>
</div>
</div>
<div id="outline-container-org4e9a7ee" class="outline-3">
<h3 id="org4e9a7ee"><span class="section-number-3">13.3.</span> Window Movement</h3>
<div class="outline-text-3" id="text-13-3">
<p>
Managing Windows, buffers etc
</p>
</div>
<div id="outline-container-org323bd75" class="outline-4">
<h4 id="org323bd75"><span class="section-number-4">13.3.1.</span> General movement</h4>
<div class="outline-text-4" id="text-13-3-1">
</div>
<ol class="org-ol">
<li><a id="orga294730"></a>Keymap<br />
<div class="outline-text-5" id="text-13-3-1-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">action</th>
<th scope="col" class="org-left">key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">other-window</td>
<td class="org-left">M-+</td>
</tr>

<tr>
<td class="org-left">'ace-window</td>
<td class="org-left">M-[</td>
</tr>

<tr>
<td class="org-left">'treemacs-select-window</td>
<td class="org-left">M-]</td>
</tr>

<tr>
<td class="org-left">'treemacs</td>
<td class="org-left">C-c s t</td>
</tr>

<tr>
<td class="org-left">'delete-window</td>
<td class="org-left">H-&lt;escape&gt;</td>
</tr>

<tr>
<td class="org-left">'delete-other-windows</td>
<td class="org-left">H-1</td>
</tr>

<tr>
<td class="org-left">'split-window-below</td>
<td class="org-left">H-2</td>
</tr>

<tr>
<td class="org-left">'split-window-right</td>
<td class="org-left">H-3</td>
</tr>

<tr>
<td class="org-left">'buffer-menu</td>
<td class="org-left">C-H</td>
</tr>

<tr>
<td class="org-left">'buffer-quick-switch</td>
<td class="org-left">H-b</td>
</tr>

<tr>
<td class="org-left">'list-bookmarks</td>
<td class="org-left">C-H-g</td>
</tr>

<tr>
<td class="org-left">'dired-jump</td>
<td class="org-left">C-H-t</td>
</tr>

<tr>
<td class="org-left">'kill-current-buffer</td>
<td class="org-left">H-k</td>
</tr>

<tr>
<td class="org-left">'kill-current-buffer-and-window</td>
<td class="org-left">C-H-k</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="org603b1bd"></a>Functions and Bindings<br />
<div class="outline-text-5" id="text-13-3-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">  ;; Macros &amp; commands
  ;(fset 'buffer-quick-switch
   ;     (kmacro-lambda-form [?\C-x ?b return] 0 "%d"))

  (defun buffer-cycle-hidden()
    "cycle through previously hidden buffers"
    (interactive)
    (switch-to-buffer (last-buffer)))

  (defun buffer-last()
    "quickly switch to the previous buffer"
    (interactive)
    (switch-to-buffer (other-buffer)))

(defun kill-current-buffer-and-window ()
  "Kill the current buffer then clear the window"
  (interactive)
  (progn
    (kill-current-buffer)
    (delete-window)))


  ;; Bindings
  (global-set-key (kbd "M-+") 'other-window)
  (global-set-key (kbd "M-]") 'ace-window)
  (global-set-key (kbd "&lt;C-M-tab&gt;") 'treemacs-select-window)
  (global-set-key (kbd "C-c s t") 'treemacs)
  (global-set-key (kbd "H-&lt;escape&gt;") 'delete-window)
  (global-set-key (kbd "C-H-&lt;escape&gt;") 'delete-frame)
  (global-set-key (kbd "H-1") 'delete-other-windows)
  (global-set-key (kbd "C-H-1") 'delete-other-frames)
  (global-set-key (kbd "H-2") 'split-window-below)
  (global-set-key (kbd "C-H-2") 'make-frame-command) 
  (global-set-key (kbd "H-3") 'split-window-right)
  (global-set-key (kbd "C-H-b") 'buffer-menu)
  (global-set-key (kbd "H-b") 'buffer-last)
  (global-set-key (kbd "M-H-b") 'buffer-cycle-hidden)
  (global-set-key (kbd "C-H-g") 'list-bookmarks)
  (global-set-key (kbd "C-H-t") 'dired-jump)
  (global-set-key (kbd "H-k") 'kill-current-buffer)
  (global-set-key (kbd "C-H-k") 'kill-current-buffer-and-window)
  (global-set-key (kbd "H-+") 'other-frame)




</pre>
</div>





<pre class="example">
bookmark-jump
</pre>
</div>
</li>
</ol>
</div>
<div id="outline-container-org5e74f60" class="outline-4">
<h4 id="org5e74f60"><span class="section-number-4">13.3.2.</span> Homebrew Harpoon</h4>
<div class="outline-text-4" id="text-13-3-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">

;; ascii codes for registers
;; a = 97
;; s = 115
;; d = 100
;; f = 102

(defvar
  active-harpoon)
(setq active-harpoon 102)

(defun current-buffer-is-harpooned (marker)
  (and (eq (marker-buffer marker) (current-buffer))))  

(defun harpoon-f ()
  "Update point if in an a harpooned register and jump to the point harpooned in the 'f' register."
  (interactive)
  (if (current-buffer-is-harpooned (get-register active-harpoon)) (point-to-register active-harpoon))
  (jump-to-register 102)
  (setq active-harpoon 102))

(defun set-harpoon-f ()
  "Harpoon the current buffer in the 'f' register"
  (interactive)
  (point-to-register 102)
  (setq active-harpoon 102)    
  )

(defun harpoon-d ()
  "Update point if in an a harpooned register and jump to the point harpooned in the 'd' register."    
  (interactive)
  (if (current-buffer-is-harpooned (get-register active-harpoon)) (point-to-register active-harpoon))
  (jump-to-register 100)
  (setq active-harpoon 100))

(defun set-harpoon-d ()
  "Harpoon the current buffer in the 'd' register"
  (interactive)
  (point-to-register 100)
  (setq active-harpoon 100)    
  )

(defun harpoon-a ()
  "Update point if in an a harpooned register and jump to the point harpooned in the 'a' register."    
  (interactive)
  (if (current-buffer-is-harpooned (get-register active-harpoon)) (point-to-register active-harpoon))
  (jump-to-register 97)
  (setq active-harpoon 97))

(defun set-harpoon-a ()
  "Harpoon the current buffer in the 'a' register"
  (interactive)
  (point-to-register 97)
  (setq active-harpoon 97)    
  )

(defun harpoon-s ()
  "Update point if in an a harpooned register and jump to the point harpooned in the 'f' register."
  (interactive)
  (if (current-buffer-is-harpooned (get-register active-harpoon)) (point-to-register active-harpoon))
  (jump-to-register 115)
  (setq active-harpoon 115))

(defun set-harpoon-s ()
  "Harpoon the current buffer in the 's' register"    
  (interactive)
  (point-to-register 115)
  (setq active-harpoon 115)
  )

(global-set-key (kbd "H-a") 'harpoon-a)
(global-set-key (kbd "C-H-a") 'set-harpoon-a)
(global-set-key (kbd "H-s") 'harpoon-s)
(global-set-key (kbd "C-H-s") 'set-harpoon-s)
(global-set-key (kbd "H-d") 'harpoon-d)
(global-set-key (kbd "C-H-d") 'set-harpoon-d)
(global-set-key (kbd "H-f") 'harpoon-f)
(global-set-key (kbd "C-H-f") 'set-harpoon-f)

</pre>
</div>


<pre class="example">
set-harpoon-f
</pre>
</div>
</div>
</div>

<div id="outline-container-org8b674ac" class="outline-3">
<h3 id="org8b674ac"><span class="section-number-3">13.4.</span> Cursor Movement</h3>
<div class="outline-text-3" id="text-13-4">
</div>
<div id="outline-container-org816de9f" class="outline-4">
<h4 id="org816de9f"><span class="section-number-4">13.4.1.</span> Keylist</h4>
<div class="outline-text-4" id="text-13-4-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Action</th>
<th scope="col" class="org-left">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">insert-line-above-and-go</td>
<td class="org-left">M-o</td>
</tr>

<tr>
<td class="org-left">indent-new-comment-line</td>
<td class="org-left">C-;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">xref-find-references</td>
<td class="org-left">H-]</td>
</tr>

<tr>
<td class="org-left">xref-go-back</td>
<td class="org-left">H-[</td>
</tr>

<tr>
<td class="org-left">goto-line</td>
<td class="org-left">H-g</td>
</tr>

<tr>
<td class="org-left">wrap-sexp-backward-with-parenthesis</td>
<td class="org-left">C-(</td>
</tr>

<tr>
<td class="org-left">swap-point-and-mark (macro)</td>
<td class="org-left">M-m</td>
</tr>

<tr>
<td class="org-left">my/pop-local-mark-ring</td>
<td class="org-left">H-m</td>
</tr>

<tr>
<td class="org-left">back-to-indentation</td>
<td class="org-left">M-i</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgf05bbe3" class="outline-4">
<h4 id="orgf05bbe3"><span class="section-number-4">13.4.2.</span> Function Definitions</h4>
<div class="outline-text-4" id="text-13-4-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my/pop-local-mark-ring ()
  "Move cursor to last mark position of current buffer, repeat calls will cycle"
  (interactive)
  (set-mark-command t))

(defun my/pop-global-mark-ring()
  "move cursor to last mark in global ring, repeat calls will cycle"
  (interactive)
  (pop-global-mark)
  (set-temporary-overlay-map
   (let ((map (make-sparse-keymap)))
     (define-key map (kbd "m") 'my/pop-global-mark-ring)
     map))
  )


(defun my/insert-line-above-and-go ()
  ;;insert a line above the current one and move the cursor there
  (interactive)
  (previous-line nil)
  (move-end-of-line nil)
  (electric-newline-and-maybe-indent)
  (indent-relative-first-indent-point))


(defun wrap-sexp-backward-with-parenthesis()
  "wrap the current expression backwards with parenthesis"
  (interactive)
  (backward-sexp)
  (mark-sexp) 
  (insert-parentheses))


</pre>
</div>

<pre class="example">
wrap-sexp-backward-with-parenthesis
</pre>
</div>
</div>
<div id="outline-container-org2fc53a4" class="outline-4">
<h4 id="org2fc53a4"><span class="section-number-4">13.4.3.</span> Key binding</h4>
<div class="outline-text-4" id="text-13-4-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
(global-set-key (kbd "M-o") 'my/insert-line-above-and-go)
;; move C-j to C-; indent-new-comment-line
(global-set-key (kbd "C-;") 'indent-new-comment)                      
(global-set-key (kbd "H-]") 'xref-find-references)
(global-set-key (kbd "H-[") 'xref-go-back)
(global-set-key (kbd "H-g") 'goto-line)
(global-set-key (kbd "C-(") 'wrap-sexp-backward-with-parenthesis)
;; swap point and mark
(global-set-key (kbd "M-m")  (kmacro-lambda-form [?\C-u ?\C-x ?\C-x] 0 "%d"))
;; cycle marks
(global-set-key (kbd "H-m") 'my/pop-local-mark-ring)
(global-set-key (kbd "C-H-m") 'my/pop-global-mark-ring)
;; rebind back-to-indentation to "M-i" NOTE this unbinds!! tab-to-tab-stop
(global-set-key (kbd "M-i") 'back-to-indentation)



</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc398531" class="outline-3">
<h3 id="orgc398531"><span class="section-number-3">13.5.</span> Editing Text</h3>
<div class="outline-text-3" id="text-13-5">
</div>
<div id="outline-container-org37bf874" class="outline-4">
<h4 id="org37bf874"><span class="section-number-4">13.5.1.</span> Function Definitions</h4>
<div class="outline-text-4" id="text-13-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun duplicate-current-line()
  "Duplicates the entire line under point. Repetable with 'd' "
  (interactive)
  (back-to-indentation)
  (kill-line)
  (yank)
  (newline)
  (indent-for-tab-command)
  (yank)
  (set-temporary-overlay-map
   (let ((map (make-sparse-keymap)))
     (define-key map (kbd "y") 'duplicate-current-line)
     map)))

(defun duplicate-line-up-to-point()
  "Duplicates a line from start of indentation up to point. May be repeated with single 'd' presses."
  (interactive)
  (set-mark-command nil)
  (back-to-indentation)
  (kill-ring-save (region-beginning) (region-end))
  (end-of-line)
  (newline)
  ;; example of single key repeat functionality
  (yank)
  (set-temporary-overlay-map
   (let ((map (make-sparse-keymap)))
     (define-key map (kbd "y") 'duplicate-line-up-to-point)
     map)))

(defun kill-word-at-point()
  "Kill the full word at point"
  (interactive)
  (kill-word 1)
  (backward-kill-word 1))

(defun kill-line-at-point()
  "Kill full lilne at point"
  (interactive)
  (back-to-indentation)
  (kill-line))


</pre>
</div>
</div>
</div>
<div id="outline-container-org59a740d" class="outline-4">
<h4 id="org59a740d"><span class="section-number-4">13.5.2.</span> Keybinds</h4>
<div class="outline-text-4" id="text-13-5-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
(global-set-key (kbd "C-M-i") 'indent-region)
(global-set-key (kbd "M-DEL") 'kill-word-at-point)
(global-set-key (kbd "M-k") 'kill-line-at-point)
(global-set-key (kbd "s-k") 'kill-sentence)
(global-set-key (kbd "s-y") 'duplicate-current-line)
(global-set-key (kbd "H-y") 'duplicate-line-up-to-point)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb285e39" class="outline-3">
<h3 id="orgb285e39"><span class="section-number-3">13.6.</span> Narrowing</h3>
<div class="outline-text-3" id="text-13-6">
<p>
Narrowing is a powerful feature for focus and restricting macros, searching, replacing etc. Lets make it easier to do more frequently.
</p>
</div>

<div id="outline-container-orgc4a30a1" class="outline-4">
<h4 id="orgc4a30a1"><span class="section-number-4">13.6.1.</span> Keymap</h4>
<div class="outline-text-4" id="text-13-6-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Action</th>
<th scope="col" class="org-left">Key</th>
<th scope="col" class="org-left">Note</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Widen</td>
<td class="org-left">H-w</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Narrow to Defun</td>
<td class="org-left">H-e</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">narrow to Region</td>
<td class="org-left">C-H-e</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Narrow to Page</td>
<td class="org-left">C-M-H-e</td>
<td class="org-left">Use C-x C-p to mark a page boundry</td>
</tr>

<tr>
<td class="org-left">Org Narrow to Element</td>
<td class="org-left">H-e</td>
<td class="org-left">These are bound to the org-mode-map to over-ride defun and block</td>
</tr>

<tr>
<td class="org-left">Org Narrow to Subtree</td>
<td class="org-left">C-H-e</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Org Narrow to Block</td>
<td class="org-left">C-M-H-e</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org14c6ebf" class="outline-4">
<h4 id="org14c6ebf"><span class="section-number-4">13.6.2.</span> Bindings</h4>
<div class="outline-text-4" id="text-13-6-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd "H-w") 'widen)
(global-set-key (kbd "H-e") 'narrow-to-region)
(global-set-key (kbd "H-e") 'narrow-to-defun)
(global-set-key (kbd "C-H-e") 'narrow-to-page)



</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4c6c5b7" class="outline-3">
<h3 id="org4c6c5b7"><span class="section-number-3">13.7.</span> Org Agenda</h3>
<div class="outline-text-3" id="text-13-7">
</div>
<div id="outline-container-org51378a4" class="outline-4">
<h4 id="org51378a4"><span class="section-number-4">13.7.1.</span> my/org-agenda-lock</h4>
<div class="outline-text-4" id="text-13-7-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(let (state)
  (defun my/toggle-org-agenda-restriction ()
    "Toggle agenda restriction"
    (setq state nil)
    (interactive)
    (setq state (not state))
    (if (eq state nil)
	(org-agenda-remove-restriction-lock)
      (my/org-agenda-set-restriction-lock))))

(defun my/org-agenda-set-restriction-lock ()
    "set agenda lock and refresh"
  (interactive)
  (progn 
    (org-agenda-set-restriction-lock-from-agenda ())
    (org-agenda-redo)))



</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org1c87e68" class="outline-3">
<h3 id="org1c87e68"><span class="section-number-3">13.8.</span> Org</h3>
<div class="outline-text-3" id="text-13-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
(defun my/next-error()
  "create a repetable next-error command"
  (interactive)
  (next-error)
  (set-temporary-overlay-map
   (let ((map (make-sparse-keymap)))
     (define-key map (kbd "o") 'my/next-error)
     map))
  )

(defun my/org-occur()
  "Run occur and let additional presses of o trigger next-error results"
  (interactive)
  (progn
    (call-interactively 'org-occur)
    (my/next-error)))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org637d20b" class="outline-2">
<h2 id="org637d20b"><span class="section-number-2">14.</span> dired</h2>
<div class="outline-text-2" id="text-14">
</div>
<div id="outline-container-org5617a7d" class="outline-3">
<h3 id="org5617a7d"><span class="section-number-3">14.1.</span> Keymap</h3>
<div class="outline-text-3" id="text-14-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">key</th>
<th scope="col" class="org-left">flag meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">m</td>
<td class="org-left">mark file</td>
</tr>

<tr>
<td class="org-left">u</td>
<td class="org-left">unmark file</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-left">unmark all files</td>
</tr>

<tr>
<td class="org-left">% -&gt; m</td>
<td class="org-left">Regex mark matching files</td>
</tr>

<tr>
<td class="org-left">*</td>
<td class="org-left">Mark by type</td>
</tr>

<tr>
<td class="org-left">(</td>
<td class="org-left">expand or collapse details</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-left">kill marked files</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-left">reload buffer</td>
</tr>

<tr>
<td class="org-left">* t</td>
<td class="org-left">invert marked files</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-left">create symbolic link</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgc126e08" class="outline-3">
<h3 id="orgc126e08"><span class="section-number-3">14.2.</span> config</h3>
<div class="outline-text-3" id="text-14-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">					; list directories first
(setq dired-listing-switches "-agho --group-directories-first")
(setq dired-dwim-target t)


</pre>
</div>
</div>
</div>
<div id="outline-container-org92a1710" class="outline-3">
<h3 id="org92a1710"><span class="section-number-3">14.3.</span> SIngle Dired Buffer</h3>
<div class="outline-text-3" id="text-14-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;;  (use-package dired-single)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4efce8d" class="outline-3">
<h3 id="org4efce8d"><span class="section-number-3">14.4.</span> Icons</h3>
<div class="outline-text-3" id="text-14-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package all-the-icons-dired
  :hook (dired-mode . all-the-icons-dired-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-org07703e4" class="outline-3">
<h3 id="org07703e4"><span class="section-number-3">14.5.</span> Hide Dot Files</h3>
<div class="outline-text-3" id="text-14-5">
<ul class="org-ul">
<li>hotkey: . (dot)</li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my-dired-mode-hook ()
  "My `dired' mode hook."
  ;; To hide dot-files by default
  (dired-hide-dotfiles-mode))

;; To toggle hiding
(define-key dired-mode-map "." #'dired-hide-dotfiles-mode)
(add-hook 'dired-mode-hook #'my-dired-mode-hook)

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org072c0ad" class="outline-2">
<h2 id="org072c0ad"><span class="section-number-2">15.</span> Testing</h2>
<div class="outline-text-2" id="text-15">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
;;set load path for person elisp

;; Removing iy-go-to-char
					;load the package iy-go-to-char
					;(load "iy-go-to-char")


(global-set-key (kbd "&lt;f6&gt;") 'browse-url-of-buffer)

;;Calendar keys
(global-set-key (kbd "s-c") 'calendar)

;; open
(fset 'my/org-insert-clean-link
      (kmacro-lambda-form [?\[ ?\[ ?\C-d ?\C-y ?\C-f ?\[ ?l ?i ?n ?k ?\C-e ?\]] 0 "%d"))

(global-set-key (kbd "s-l") 'my/org-insert-clean-link)
(global-set-key (kbd "C-M-.") 'counsel-git-grep)


;;indenting commands
(global-set-key (kbd "C-c i c") 'indent-to-column)

(global-set-key (kbd "M-SPC") 'cycle-spacing)

;; macros to set agenda categories
(fset 'my/org-agenda-set-category-project
 (kmacro-lambda-form [?\C-c ?\C-x ?p ?C ?A ?T ?E ?G ?O ?R ?Y return ?P ?r ?o ?j ?e ?c ?t return ?r] 0 "%d"))
(fset 'my/org-agenda-set-category-task
 (kmacro-lambda-form [?\C-c ?\C-x ?p ?C ?A ?T ?E ?G ?O ?R ?Y return ?T ?a ?s ?k return ?r] 0 "%d"))





</pre>
</div>
</div>
</div>

<div id="outline-container-orgd4e9923" class="outline-2">
<h2 id="orgd4e9923"><span class="section-number-2">16.</span> Load Music</h2>
<div class="outline-text-2" id="text-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
(defun play-retro-sax ()
  "Launch a retro sax 3 hour video"
  (interactive)
  (browse-url "https://www.youtube.com/watch?v=001hXHNo-3w"))

(defun play-high-bpm-trance ()
  "Launch high bpm trance video"
  (interactive)
  (browse-url "https://youtu.be/q7gv9B4Kw44"))


(defhydra Music (global-map "&lt;f7&gt;")
  "Music Player"
  ("s" play-retro-sax "Retro-Sax")
  ("h" play-high-bpm-trance "High BPM Trance"))




</pre>
</div>
</div>
</div>

<div id="outline-container-org34bfb14" class="outline-2">
<h2 id="org34bfb14"><span class="section-number-2">17.</span> Design Document Creation</h2>
<div class="outline-text-2" id="text-17">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(fset 'my/dired-create-game-design-structure
      (kmacro-lambda-form [?\M-x ?m ?k ?d ?i ?r return ?d ?e ?s ?i ?g ?n return ?\M-x ?m ?d ?k backspace backspace ?k ?d ?i ?r return ?d ?e ?v ?e ?l ?o ?p ?m ?e ?n ?t return ?\M-x ?m ?k ?d ?i ?r return ?d ?o ?c ?u ?m ?e ?n ?t ?a ?t ?i ?o ?n return ?\M-x ?m ?k ?d ?i ?r return ?i ?m ?a ?g ?e ?s return ?\M-x ?m ?k ?d ?i ?r ?  ?p ?l ?a ?y ?t ?e ?s ?t ?s return backspace backspace backspace backspace backspace backspace backspace backspace backspace backspace return ?p ?l ?a ?y ?t ?e ?s ?t ?s return] 0 "%d"))

(fset 'my/dired-populate-design-docs
      (kmacro-lambda-form [?\C-x ?\C-f ?R ?E ?A ?D ?M ?E ?. ?o ?r ?g return ?\C-x ?\C-s ?\H-k ?g ?\C-x ?\C-f ?d ?e ?s ?i ?g ?n ?/ ?D ?e ?s ?i ?g ?n ?- ?L ?o ?g ?. ?o ?r ?g return ?\C-x ?\C-s ?\H-k ?\C-x ?\C-f ?d tab ?D ?e ?s ?i ?g backspace backspace backspace backspace backspace ?M ?a ?s ?t ?e ?r ?- ?D ?e ?s ?i ?g ?n ?- ?D ?o ?c ?. ?o ?r ?g return ?\C-x ?\C-s ?\H-k ?\C-x ?\C-f ?p ?l ?a ?y tab ?P ?l ?a ?y ?t ?e ?s ?t ?s ?. ?o ?r ?g return ?\C-x ?\C-s ?\H-k ?\C-s ?\C-f ?\C-x ?\C-f ?d ?o ?c ?u tab ?R ?u ?l ?e ?s ?. ?o ?r ?g return ?\C-x ?\C-s ?\H-k] 0 "%d"))

(fset 'my/create-new-design
      (kmacro-lambda-form [?\M-x ?m ?y ?/ return ?g ?\M-x ?m ?y ?/ ?\C-n ?\C-n ?\C-n ?\C-n return ?g] 0 "%d"))


</pre>
</div>
<p>
q
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">lambda</td>
<td class="org-left">(&amp;optional arg)</td>
<td class="org-left">Keyboard macro.</td>
<td class="org-left">(interactive p)</td>
<td class="org-left">(kmacro-exec-ring-item '([134217848 109 121 47 return 103 134217848 109 121 47 14 14 14 14 return 103] 0 %d) arg)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org34bf932" class="outline-2">
<h2 id="org34bf932"><span class="section-number-2">18.</span> Xah Lee Implementations</h2>
<div class="outline-text-2" id="text-18">
<p>
Tried out Xah-fly-keys and didn't love his command mode but he has some really good helper rowing those below
</p>
</div>
<div id="outline-container-org695d4d6" class="outline-3">
<h3 id="org695d4d6"><span class="section-number-3">18.1.</span> Hotkey Map</h3>
<div class="outline-text-3" id="text-18-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Action</th>
<th scope="col" class="org-left">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Beginning of line or block</td>
<td class="org-left">"M-p"</td>
</tr>

<tr>
<td class="org-left">End of line or block</td>
<td class="org-left">"M-n"</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orga075df2" class="outline-3">
<h3 id="orga075df2"><span class="section-number-3">18.2.</span> Function definitions</h3>
<div class="outline-text-3" id="text-18-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun xah-beginning-of-line-or-block ()
  "Move cursor to beginning of line or previous block.

• When called first time, move cursor to beginning of char in current line. (if already, move to beginning of line.)
• When called again, move cursor backward by jumping over any sequence of whitespaces containing 2 blank lines.
• if `visual-line-mode' is on, beginning of line means visual line.

URL `http://xahlee.info/emacs/emacs/emacs_keybinding_design_beginning-of-line-or-block.html'
Version: 2018-06-04 2021-03-16 2022-03-30 2022-07-03 2022-07-06"
  (interactive)
  (let (($p (point)))
    (if (or (equal (point) (line-beginning-position))
	    (eq last-command this-command))
	(when
	    (re-search-backward "\n[\t\n ]*\n+" nil 1)
	  (skip-chars-backward "\n\t ")
	  (forward-char))
      (if visual-line-mode
	  (beginning-of-visual-line)
	(if (eq major-mode 'eshell-mode)
	    (progn
	      (declare-function eshell-bol "esh-mode.el" ())
	      (eshell-bol))
	  (back-to-indentation)
	  (when (eq $p (point))
	    (beginning-of-line)))))))


(defun xah-end-of-line-or-block ()
  "Move cursor to end of line or next block.

• When called first time, move cursor to end of line.
• When called again, move cursor forward by jumping over any sequence of whitespaces containing 2 blank lines.
• if `visual-line-mode' is on, end of line means visual line.
b
URL `http://xahlee.info/emacs/emacs/emacs_keybinding_design_beginning-of-line-or-block.html'
Version: 2018-06-04 2021-03-16 2022-03-05"
  (interactive)
  (if (or (equal (point) (line-end-position))
	  (eq last-command this-command))
      (re-search-forward "\n[\t\n ]*\n+" nil 1)
    (if visual-line-mode
	(end-of-visual-line)
      (end-of-line))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org55a4975" class="outline-3">
<h3 id="org55a4975"><span class="section-number-3">18.3.</span> Bindings</h3>
<div class="outline-text-3" id="text-18-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd "M-p") 'xah-beginning-of-line-or-block)
(global-set-key (kbd "M-n") 'xah-end-of-line-or-block)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga2b953b" class="outline-2">
<h2 id="orga2b953b"><span class="section-number-2">19.</span> Final Loading</h2>
<div class="outline-text-2" id="text-19">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;;Make org links open in same window
(setq org-link-frame-setup
      '(
	(vm . vm-visit-folder-other-frame)
	(vm-imap . vm-visit-imap-folder-other-frame)
	(gnus . org-gnus-no-new-news)
	(file . find-file)
	(wl . wl-other-frame)))

;; set org agenda mode map commands 
(define-key org-agenda-mode-map (kbd "H-,") 'my/toggle-org-agenda-restriction )
(define-key org-agenda-mode-map (kbd "H-.") 'my/org-agenda-set-restriction-lock)
(define-key org-agenda-mode-map (kbd "M-s o") 'org-occur-in-agenda-files)
(define-key org-agenda-mode-map (kbd "[") 'my/org-agenda-set-category-project)
(define-key org-agenda-mode-map (kbd "]") 'my/org-agenda-set-category-task)


</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Tyler</p>
<p class="date">Created: 2023-08-01 Tue 18:53</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
